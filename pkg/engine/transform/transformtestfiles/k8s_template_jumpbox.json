{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "AzureCNINetworkMonitorImageURL": {
            "defaultValue": "",
            "type": "String",
            "metadata": {
                "description": "Azure CNI networkmonitor Image URL"
            }
        },
        "agentSubnet": {
            "defaultValue": "",
            "type": "String",
            "metadata": {
                "description": "Sets the subnet of the agent node(s)."
            }
        },
        "agentpool1Count": {
            "defaultValue": 2,
            "type": "Int",
            "metadata": {
                "description": "The number of vms in agent pool agentpool1"
            }
        },
        "agentpool1Subnet": {
            "defaultValue": "10.240.0.0/12",
            "type": "String",
            "metadata": {
                "description": "Sets the subnet of agent pool 'agentpool1'."
            }
        },
        "agentpool1VMSize": {
            "defaultValue": "Standard_D2_v3",
            "allowedValues": [
                "Standard_A0",
                "Standard_A1",
                "Standard_A10",
                "Standard_A11",
                "Standard_A1_v2",
                "Standard_A2",
                "Standard_A2_v2",
                "Standard_A2m_v2",
                "Standard_A3",
                "Standard_A4",
                "Standard_A4_v2",
                "Standard_A4m_v2",
                "Standard_A5",
                "Standard_A6",
                "Standard_A7",
                "Standard_A8",
                "Standard_A8_v2",
                "Standard_A8m_v2",
                "Standard_A9",
                "Standard_B12ms",
                "Standard_B16ms",
                "Standard_B1ls",
                "Standard_B1ms",
                "Standard_B1s",
                "Standard_B20ms",
                "Standard_B2ms",
                "Standard_B2s",
                "Standard_B4ms",
                "Standard_B8ms",
                "Standard_D1",
                "Standard_D11",
                "Standard_D11_v2",
                "Standard_D11_v2_Promo",
                "Standard_D12",
                "Standard_D12_v2",
                "Standard_D12_v2_Promo",
                "Standard_D13",
                "Standard_D13_v2",
                "Standard_D13_v2_Promo",
                "Standard_D14",
                "Standard_D14_v2",
                "Standard_D14_v2_Promo",
                "Standard_D15_v2",
                "Standard_D16_v3",
                "Standard_D16a_v3",
                "Standard_D16a_v4",
                "Standard_D16as_v3",
                "Standard_D16as_v4",
                "Standard_D16s_v3",
                "Standard_D1_v2",
                "Standard_D2",
                "Standard_D2_v2",
                "Standard_D2_v2_Promo",
                "Standard_D2_v3",
                "Standard_D2a_v3",
                "Standard_D2a_v4",
                "Standard_D2as_v3",
                "Standard_D2as_v4",
                "Standard_D2s_v3",
                "Standard_D3",
                "Standard_D32_v3",
                "Standard_D32a_v3",
                "Standard_D32a_v4",
                "Standard_D32as_v3",
                "Standard_D32as_v4",
                "Standard_D32s_v3",
                "Standard_D3_v2",
                "Standard_D3_v2_Promo",
                "Standard_D4",
                "Standard_D48_v3",
                "Standard_D48a_v3",
                "Standard_D48a_v4",
                "Standard_D48as_v3",
                "Standard_D48as_v4",
                "Standard_D48s_v3",
                "Standard_D4_v2",
                "Standard_D4_v2_Promo",
                "Standard_D4_v3",
                "Standard_D4a_v3",
                "Standard_D4a_v4",
                "Standard_D4as_v3",
                "Standard_D4as_v4",
                "Standard_D4s_v3",
                "Standard_D5_v2",
                "Standard_D5_v2_Promo",
                "Standard_D64_v3",
                "Standard_D64a_v3",
                "Standard_D64a_v4",
                "Standard_D64as_v3",
                "Standard_D64as_v4",
                "Standard_D64s_v3",
                "Standard_D8_v3",
                "Standard_D8a_v3",
                "Standard_D8a_v4",
                "Standard_D8as_v3",
                "Standard_D8as_v4",
                "Standard_D8s_v3",
                "Standard_D96a_v3",
                "Standard_D96a_v4",
                "Standard_D96as_v3",
                "Standard_D96as_v4",
                "Standard_DC2s",
                "Standard_DC4s",
                "Standard_DC8s",
                "Standard_DS1",
                "Standard_DS11",
                "Standard_DS11-1_v2",
                "Standard_DS11_v2",
                "Standard_DS11_v2_Promo",
                "Standard_DS12",
                "Standard_DS12-1_v2",
                "Standard_DS12-2_v2",
                "Standard_DS12_v2",
                "Standard_DS12_v2_Promo",
                "Standard_DS13",
                "Standard_DS13-2_v2",
                "Standard_DS13-4_v2",
                "Standard_DS13_v2",
                "Standard_DS13_v2_Promo",
                "Standard_DS14",
                "Standard_DS14-4_v2",
                "Standard_DS14-8_v2",
                "Standard_DS14_v2",
                "Standard_DS14_v2_Promo",
                "Standard_DS15_v2",
                "Standard_DS1_v2",
                "Standard_DS2",
                "Standard_DS2_v2",
                "Standard_DS2_v2_Promo",
                "Standard_DS3",
                "Standard_DS3_v2",
                "Standard_DS3_v2_Promo",
                "Standard_DS4",
                "Standard_DS4_v2",
                "Standard_DS4_v2_Promo",
                "Standard_DS5_v2",
                "Standard_DS5_v2_Promo",
                "Standard_E16-4s_v3",
                "Standard_E16-8s_v3",
                "Standard_E16_v3",
                "Standard_E16a_v3",
                "Standard_E16as_v3",
                "Standard_E16a_v4",
                "Standard_E16as_v4",
                "Standard_E16s_v3",
                "Standard_E20_v3",
                "Standard_E20a_v4",
                "Standard_E20as_v4",
                "Standard_E20s_v3",
                "Standard_E2_v3",
                "Standard_E2a_v3",
                "Standard_E2as_v3",
                "Standard_E2a_v4",
                "Standard_E2as_v4",
                "Standard_E2s_v3",
                "Standard_E32-16s_v3",
                "Standard_E32-8s_v3",
                "Standard_E32_v3",
                "Standard_E32a_v3",
                "Standard_E32as_v3",
                "Standard_E32a_v4",
                "Standard_E32as_v4",
                "Standard_E32s_v3",
                "Standard_E4-2s_v3",
                "Standard_E48_v3",
                "Standard_E48a_v3",
                "Standard_E48as_v3",
                "Standard_E48a_v4",
                "Standard_E48as_v4",
                "Standard_E48s_v3",
                "Standard_E4_v3",
                "Standard_E4a_v3",
                "Standard_E4as_v3",
                "Standard_E4a_v4",
                "Standard_E4as_v4",
                "Standard_E4s_v3",
                "Standard_E64-16s_v3",
                "Standard_E64-32s_v3",
                "Standard_E64_v3",
                "Standard_E64a_v3",
                "Standard_E64as_v3",
                "Standard_E64a_v4",
                "Standard_E64as_v4",
                "Standard_E64i_v3",
                "Standard_E64is_v3",
                "Standard_E64s_v3",
                "Standard_E8-2s_v3",
                "Standard_E8-4s_v3",
                "Standard_E8_v3",
                "Standard_E8a_v3",
                "Standard_E8as_v3",
                "Standard_E8a_v4",
                "Standard_E8as_v4",
                "Standard_E8s_v3",
                "Standard_E96a_v4",
                "Standard_E96as_v4",
                "Standard_F1",
                "Standard_F16",
                "Standard_F16s",
                "Standard_F16s_v2",
                "Standard_F1s",
                "Standard_F2",
                "Standard_F2s",
                "Standard_F2s_v2",
                "Standard_F32s_v2",
                "Standard_F4",
                "Standard_F48s_v2",
                "Standard_F4s",
                "Standard_F4s_v2",
                "Standard_F64s_v2",
                "Standard_F72s_v2",
                "Standard_F8",
                "Standard_F8s",
                "Standard_F8s_v2",
                "Standard_G1",
                "Standard_G2",
                "Standard_G3",
                "Standard_G4",
                "Standard_G5",
                "Standard_GS1",
                "Standard_GS2",
                "Standard_GS3",
                "Standard_GS4",
                "Standard_GS4-4",
                "Standard_GS4-8",
                "Standard_GS5",
                "Standard_GS5-16",
                "Standard_GS5-8",
                "Standard_H16",
                "Standard_H16_Promo",
                "Standard_H16m",
                "Standard_H16m_Promo",
                "Standard_H16mr",
                "Standard_H16mr_Promo",
                "Standard_H16r",
                "Standard_H16r_Promo",
                "Standard_H8",
                "Standard_H8_Promo",
                "Standard_H8m",
                "Standard_H8m_Promo",
                "Standard_HB120rs_v2",
                "Standard_HB60rs",
                "Standard_HC44rs",
                "Standard_L16s",
                "Standard_L16s_v2",
                "Standard_L32s",
                "Standard_L32s_v2",
                "Standard_L48s_v2",
                "Standard_L4s",
                "Standard_L64s_v2",
                "Standard_L80s_v2",
                "Standard_L8s",
                "Standard_L8s_v2",
                "Standard_M128",
                "Standard_M128-32ms",
                "Standard_M128-64ms",
                "Standard_M128m",
                "Standard_M128ms",
                "Standard_M128s",
                "Standard_M16-4ms",
                "Standard_M16-8ms",
                "Standard_M16ms",
                "Standard_M208ms_v2",
                "Standard_M208s_v2",
                "Standard_M32-16ms",
                "Standard_M32-8ms",
                "Standard_M32ls",
                "Standard_M32ms",
                "Standard_M32ts",
                "Standard_M416ms_v2",
                "Standard_M416s_v2",
                "Standard_M64",
                "Standard_M64-16ms",
                "Standard_M64-32ms",
                "Standard_M64ls",
                "Standard_M64m",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_M8-2ms",
                "Standard_M8-4ms",
                "Standard_M8ms",
                "Standard_NC12",
                "Standard_NC12_Promo",
                "Standard_NC12s_v2",
                "Standard_NC12s_v3",
                "Standard_NC24",
                "Standard_NC24_Promo",
                "Standard_NC24r",
                "Standard_NC24r_Promo",
                "Standard_NC24rs_v2",
                "Standard_NC24rs_v3",
                "Standard_NC24s_v2",
                "Standard_NC24s_v3",
                "Standard_NC6",
                "Standard_NC6_Promo",
                "Standard_NC6s_v2",
                "Standard_NC6s_v3",
                "Standard_ND12s",
                "Standard_ND24rs",
                "Standard_ND24s",
                "Standard_ND40rs_v2",
                "Standard_ND40s_v3",
                "Standard_ND6s",
                "Standard_NP10s",
                "Standard_NP20s",
                "Standard_NP40s",
                "Standard_NV12",
                "Standard_NV12_Promo",
                "Standard_NV12s_v2",
                "Standard_NV12s_v3",
                "Standard_NV24",
                "Standard_NV24_Promo",
                "Standard_NV24s_v2",
                "Standard_NV24s_v3",
                "Standard_NV48s_v3",
                "Standard_NV6",
                "Standard_NV6_Promo",
                "Standard_NV6s_v2",
                "Standard_PB12s",
                "Standard_PB24s",
                "Standard_PB6s"
            ],
            "type": "String",
            "metadata": {
                "description": "The size of the Virtual Machine."
            }
        },
        "agentpool1osImageName": {
            "defaultValue": "",
            "type": "String",
            "metadata": {
                "description": "Name of a Linux OS image. Needs to be used in conjuction with osImageResourceGroup."
            }
        },
        "agentpool1osImageOffer": {
            "defaultValue": "UbuntuServer",
            "type": "String",
            "metadata": {
                "description": "Linux OS image type."
            }
        },
        "agentpool1osImagePublisher": {
            "defaultValue": "Canonical",
            "type": "String",
            "metadata": {
                "description": "OS image publisher."
            }
        },
        "agentpool1osImageResourceGroup": {
            "defaultValue": "",
            "type": "String",
            "metadata": {
                "description": "Resource group of a Linux OS image. Needs to be used in conjuction with osImageName."
            }
        },
        "agentpool1osImageSKU": {
            "defaultValue": "16.04-LTS",
            "type": "String",
            "metadata": {
                "description": "OS image SKU."
            }
        },
        "agentpool1osImageVersion": {
            "defaultValue": "latest",
            "type": "String",
            "metadata": {
                "description": "OS image version."
            }
        },
        "aksEngineVersion": {
            "type": "String",
            "metadata": {
                "description": "Contains details of the aks-engine version which was used to provision the cluster"
            }
        },
        "apiServerCertificate": {
            "type": "String",
            "metadata": {
                "description": "The base 64 server certificate used on the master"
            }
        },
        "apiServerPrivateKey": {
            "type": "SecureString",
            "metadata": {
                "description": "The base 64 server private key used on the master."
            }
        },
        "caCertificate": {
            "type": "String",
            "metadata": {
                "description": "The base 64 certificate authority certificate"
            }
        },
        "caPrivateKey": {
            "type": "SecureString",
            "metadata": {
                "description": "The base 64 CA private key used on the master."
            }
        },
        "clientCertificate": {
            "type": "String",
            "metadata": {
                "description": "The base 64 client certificate used to communicate with the master"
            }
        },
        "clientPrivateKey": {
            "type": "SecureString",
            "metadata": {
                "description": "The base 64 client private key used to communicate with the master"
            }
        },
        "cloudproviderConfig": {
            "defaultValue": {
                "cloudProviderBackoff": false,
                "cloudProviderBackoffDuration": 0,
                "cloudProviderBackoffExponent": "0",
                "cloudProviderBackoffJitter": "0",
                "cloudProviderBackoffMode": "v1",
                "cloudProviderBackoffRetries": 10,
                "cloudProviderDisableOutboundSNAT": false,
                "cloudProviderRateLimit": false,
                "cloudProviderRateLimitBucket": 0,
                "cloudProviderRateLimitBucketWrite": 0,
                "cloudProviderRateLimitQPS": "0",
                "cloudProviderRateLimitQPSWrite": "0"
            },
            "type": "Object"
        },
        "cniPluginsURL": {
            "defaultValue": "https://kubernetesartifacts.azureedge.net/cni-plugins/v0.7.6/binaries/cni-plugins-amd64-v0.7.6.tgz",
            "type": "String"
        },
        "containerRuntime": {
            "defaultValue": "docker",
            "allowedValues": [
                "docker",
                "containerd"
            ],
            "type": "String",
            "metadata": {
                "description": "The container runtime to use (docker|containerd)"
            }
        },
        "containerdDownloadURLBase": {
            "defaultValue": "https://storage.googleapis.com/cri-containerd-release/",
            "type": "String"
        },
        "containerdVersion": {
            "defaultValue": "1.1.5",
            "allowedValues": [
                "1.1.5",
                "1.1.6",
                "1.2.4"
            ],
            "type": "String",
            "metadata": {
                "description": "The Azure Moby build version"
            }
        },
        "dockerBridgeCidr": {
            "type": "String",
            "metadata": {
                "description": "Docker bridge network IP address and subnet"
            }
        },
        "enableAggregatedAPIs": {
            "defaultValue": false,
            "type": "Bool",
            "metadata": {
                "description": "Enable aggregated API on master nodes"
            }
        },
        "etcdClientCertificate": {
            "type": "String",
            "metadata": {
                "description": "The base 64 server certificate used on the master"
            }
        },
        "etcdClientPrivateKey": {
            "type": "SecureString",
            "metadata": {
                "description": "The base 64 server private key used on the master."
            }
        },
        "etcdDiskSizeGB": {
            "type": "String",
            "metadata": {
                "description": "Size in GB to allocate for etcd volume"
            }
        },
        "etcdDownloadURLBase": {
            "type": "String",
            "metadata": {
                "description": "etcd image base URL"
            }
        },
        "etcdEncryptionKey": {
            "type": "String",
            "metadata": {
                "description": "Encryption at rest key for etcd"
            }
        },
        "etcdPeerCertificate0": {
            "type": "String",
            "metadata": {
                "description": "The base 64 server certificates used on the master"
            }
        },
        "etcdPeerCertificate1": {
            "type": "String",
            "metadata": {
                "description": "The base 64 server certificates used on the master"
            }
        },
        "etcdPeerCertificate2": {
            "type": "String",
            "metadata": {
                "description": "The base 64 server certificates used on the master"
            }
        },
        "etcdPeerPrivateKey0": {
            "type": "SecureString",
            "metadata": {
                "description": "The base 64 server private keys used on the master."
            }
        },
        "etcdPeerPrivateKey1": {
            "type": "SecureString",
            "metadata": {
                "description": "The base 64 server private keys used on the master."
            }
        },
        "etcdPeerPrivateKey2": {
            "type": "SecureString",
            "metadata": {
                "description": "The base 64 server private keys used on the master."
            }
        },
        "etcdServerCertificate": {
            "type": "String",
            "metadata": {
                "description": "The base 64 server certificate used on the master"
            }
        },
        "etcdServerPrivateKey": {
            "type": "SecureString",
            "metadata": {
                "description": "The base 64 server private key used on the master."
            }
        },
        "etcdVersion": {
            "type": "String",
            "metadata": {
                "description": "etcd version"
            }
        },
        "firstConsecutiveStaticIP": {
            "defaultValue": "10.255.255.5",
            "type": "String",
            "metadata": {
                "description": "Sets the static IP of the first master"
            }
        },
        "fqdnEndpointSuffix": {
            "defaultValue": "cloudapp.azure.com",
            "type": "String",
            "metadata": {
                "description": "Endpoint of FQDN."
            }
        },
        "gcHighThreshold": {
            "defaultValue": 85,
            "type": "Int",
            "metadata": {
                "description": "High Threshold for Image Garbage collection on each node"
            }
        },
        "gcLowThreshold": {
            "defaultValue": 80,
            "type": "Int",
            "metadata": {
                "description": "Low Threshold for Image Garbage collection on each node."
            }
        },
        "generatorCode": {
            "type": "String",
            "metadata": {
                "description": "The generator code used to identify the generator"
            }
        },
        "jumpboxOSDiskSizeGB": {
            "type": "Int",
            "metadata": {
                "description": "Size in GB to allocate to the private cluster jumpbox VM OS."
            }
        },
        "jumpboxPublicKey": {
            "type": "String",
            "metadata": {
                "description": "SSH public key used for auth to the private cluster jumpbox"
            }
        },
        "jumpboxStorageProfile": {
            "type": "String",
            "metadata": {
                "description": "Storage Profile for the private cluster jumpbox"
            }
        },
        "jumpboxUsername": {
            "type": "String",
            "metadata": {
                "description": "Username for the private cluster jumpbox"
            }
        },
        "jumpboxVMName": {
            "type": "String",
            "metadata": {
                "description": "jumpbox VM Name"
            }
        },
        "jumpboxVMSize": {
            "allowedValues": [
                "Standard_A0",
                "Standard_A1",
                "Standard_A10",
                "Standard_A11",
                "Standard_A1_v2",
                "Standard_A2",
                "Standard_A2_v2",
                "Standard_A2m_v2",
                "Standard_A3",
                "Standard_A4",
                "Standard_A4_v2",
                "Standard_A4m_v2",
                "Standard_A5",
                "Standard_A6",
                "Standard_A7",
                "Standard_A8",
                "Standard_A8_v2",
                "Standard_A8m_v2",
                "Standard_A9",
                "Standard_B12ms",
                "Standard_B16ms",
                "Standard_B1ls",
                "Standard_B1ms",
                "Standard_B1s",
                "Standard_B20ms",
                "Standard_B2ms",
                "Standard_B2s",
                "Standard_B4ms",
                "Standard_B8ms",
                "Standard_D1",
                "Standard_D11",
                "Standard_D11_v2",
                "Standard_D11_v2_Promo",
                "Standard_D12",
                "Standard_D12_v2",
                "Standard_D12_v2_Promo",
                "Standard_D13",
                "Standard_D13_v2",
                "Standard_D13_v2_Promo",
                "Standard_D14",
                "Standard_D14_v2",
                "Standard_D14_v2_Promo",
                "Standard_D15_v2",
                "Standard_D16_v3",
                "Standard_D16a_v3",
                "Standard_D16a_v4",
                "Standard_D16as_v3",
                "Standard_D16as_v4",
                "Standard_D16s_v3",
                "Standard_D1_v2",
                "Standard_D2",
                "Standard_D2_v2",
                "Standard_D2_v2_Promo",
                "Standard_D2_v3",
                "Standard_D2a_v3",
                "Standard_D2a_v4",
                "Standard_D2as_v3",
                "Standard_D2as_v4",
                "Standard_D2s_v3",
                "Standard_D3",
                "Standard_D32_v3",
                "Standard_D32a_v3",
                "Standard_D32a_v4",
                "Standard_D32as_v3",
                "Standard_D32as_v4",
                "Standard_D32s_v3",
                "Standard_D3_v2",
                "Standard_D3_v2_Promo",
                "Standard_D4",
                "Standard_D48_v3",
                "Standard_D48a_v3",
                "Standard_D48a_v4",
                "Standard_D48as_v3",
                "Standard_D48as_v4",
                "Standard_D48s_v3",
                "Standard_D4_v2",
                "Standard_D4_v2_Promo",
                "Standard_D4_v3",
                "Standard_D4a_v3",
                "Standard_D4a_v4",
                "Standard_D4as_v3",
                "Standard_D4as_v4",
                "Standard_D4s_v3",
                "Standard_D5_v2",
                "Standard_D5_v2_Promo",
                "Standard_D64_v3",
                "Standard_D64a_v3",
                "Standard_D64a_v4",
                "Standard_D64as_v3",
                "Standard_D64as_v4",
                "Standard_D64s_v3",
                "Standard_D8_v3",
                "Standard_D8a_v3",
                "Standard_D8a_v4",
                "Standard_D8as_v3",
                "Standard_D8as_v4",
                "Standard_D8s_v3",
                "Standard_D96a_v3",
                "Standard_D96a_v4",
                "Standard_D96as_v3",
                "Standard_D96as_v4",
                "Standard_DC2s",
                "Standard_DC4s",
                "Standard_DC8s",
                "Standard_DS1",
                "Standard_DS11",
                "Standard_DS11-1_v2",
                "Standard_DS11_v2",
                "Standard_DS11_v2_Promo",
                "Standard_DS12",
                "Standard_DS12-1_v2",
                "Standard_DS12-2_v2",
                "Standard_DS12_v2",
                "Standard_DS12_v2_Promo",
                "Standard_DS13",
                "Standard_DS13-2_v2",
                "Standard_DS13-4_v2",
                "Standard_DS13_v2",
                "Standard_DS13_v2_Promo",
                "Standard_DS14",
                "Standard_DS14-4_v2",
                "Standard_DS14-8_v2",
                "Standard_DS14_v2",
                "Standard_DS14_v2_Promo",
                "Standard_DS15_v2",
                "Standard_DS1_v2",
                "Standard_DS2",
                "Standard_DS2_v2",
                "Standard_DS2_v2_Promo",
                "Standard_DS3",
                "Standard_DS3_v2",
                "Standard_DS3_v2_Promo",
                "Standard_DS4",
                "Standard_DS4_v2",
                "Standard_DS4_v2_Promo",
                "Standard_DS5_v2",
                "Standard_DS5_v2_Promo",
                "Standard_E16-4s_v3",
                "Standard_E16-8s_v3",
                "Standard_E16_v3",
                "Standard_E16a_v3",
                "Standard_E16as_v3",
                "Standard_E16a_v4",
                "Standard_E16as_v4",
                "Standard_E16s_v3",
                "Standard_E20_v3",
                "Standard_E20a_v4",
                "Standard_E20as_v4",
                "Standard_E20s_v3",
                "Standard_E2_v3",
                "Standard_E2a_v3",
                "Standard_E2as_v3",
                "Standard_E2a_v4",
                "Standard_E2as_v4",
                "Standard_E2s_v3",
                "Standard_E32-16s_v3",
                "Standard_E32-8s_v3",
                "Standard_E32_v3",
                "Standard_E32a_v3",
                "Standard_E32as_v3",
                "Standard_E32a_v4",
                "Standard_E32as_v4",
                "Standard_E32s_v3",
                "Standard_E4-2s_v3",
                "Standard_E48_v3",
                "Standard_E48a_v3",
                "Standard_E48as_v3",
                "Standard_E48a_v4",
                "Standard_E48as_v4",
                "Standard_E48s_v3",
                "Standard_E4_v3",
                "Standard_E4a_v3",
                "Standard_E4as_v3",
                "Standard_E4a_v4",
                "Standard_E4as_v4",
                "Standard_E4s_v3",
                "Standard_E64-16s_v3",
                "Standard_E64-32s_v3",
                "Standard_E64_v3",
                "Standard_E64a_v3",
                "Standard_E64as_v3",
                "Standard_E64a_v4",
                "Standard_E64as_v4",
                "Standard_E64i_v3",
                "Standard_E64is_v3",
                "Standard_E64s_v3",
                "Standard_E8-2s_v3",
                "Standard_E8-4s_v3",
                "Standard_E8_v3",
                "Standard_E8a_v3",
                "Standard_E8as_v3",
                "Standard_E8a_v4",
                "Standard_E8as_v4",
                "Standard_E8s_v3",
                "Standard_E96a_v4",
                "Standard_E96as_v4",
                "Standard_F1",
                "Standard_F16",
                "Standard_F16s",
                "Standard_F16s_v2",
                "Standard_F1s",
                "Standard_F2",
                "Standard_F2s",
                "Standard_F2s_v2",
                "Standard_F32s_v2",
                "Standard_F4",
                "Standard_F48s_v2",
                "Standard_F4s",
                "Standard_F4s_v2",
                "Standard_F64s_v2",
                "Standard_F72s_v2",
                "Standard_F8",
                "Standard_F8s",
                "Standard_F8s_v2",
                "Standard_G1",
                "Standard_G2",
                "Standard_G3",
                "Standard_G4",
                "Standard_G5",
                "Standard_GS1",
                "Standard_GS2",
                "Standard_GS3",
                "Standard_GS4",
                "Standard_GS4-4",
                "Standard_GS4-8",
                "Standard_GS5",
                "Standard_GS5-16",
                "Standard_GS5-8",
                "Standard_H16",
                "Standard_H16_Promo",
                "Standard_H16m",
                "Standard_H16m_Promo",
                "Standard_H16mr",
                "Standard_H16mr_Promo",
                "Standard_H16r",
                "Standard_H16r_Promo",
                "Standard_H8",
                "Standard_H8_Promo",
                "Standard_H8m",
                "Standard_H8m_Promo",
                "Standard_HB120rs_v2",
                "Standard_HB60rs",
                "Standard_HC44rs",
                "Standard_L16s",
                "Standard_L16s_v2",
                "Standard_L32s",
                "Standard_L32s_v2",
                "Standard_L48s_v2",
                "Standard_L4s",
                "Standard_L64s_v2",
                "Standard_L80s_v2",
                "Standard_L8s",
                "Standard_L8s_v2",
                "Standard_M128",
                "Standard_M128-32ms",
                "Standard_M128-64ms",
                "Standard_M128m",
                "Standard_M128ms",
                "Standard_M128s",
                "Standard_M16-4ms",
                "Standard_M16-8ms",
                "Standard_M16ms",
                "Standard_M208ms_v2",
                "Standard_M208s_v2",
                "Standard_M32-16ms",
                "Standard_M32-8ms",
                "Standard_M32ls",
                "Standard_M32ms",
                "Standard_M32ts",
                "Standard_M416ms_v2",
                "Standard_M416s_v2",
                "Standard_M64",
                "Standard_M64-16ms",
                "Standard_M64-32ms",
                "Standard_M64ls",
                "Standard_M64m",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_M8-2ms",
                "Standard_M8-4ms",
                "Standard_M8ms",
                "Standard_NC12",
                "Standard_NC12_Promo",
                "Standard_NC12s_v2",
                "Standard_NC12s_v3",
                "Standard_NC24",
                "Standard_NC24_Promo",
                "Standard_NC24r",
                "Standard_NC24r_Promo",
                "Standard_NC24rs_v2",
                "Standard_NC24rs_v3",
                "Standard_NC24s_v2",
                "Standard_NC24s_v3",
                "Standard_NC6",
                "Standard_NC6_Promo",
                "Standard_NC6s_v2",
                "Standard_NC6s_v3",
                "Standard_ND12s",
                "Standard_ND24rs",
                "Standard_ND24s",
                "Standard_ND40rs_v2",
                "Standard_ND40s_v3",
                "Standard_ND6s",
                "Standard_NP10s",
                "Standard_NP20s",
                "Standard_NP40s",
                "Standard_NV12",
                "Standard_NV12_Promo",
                "Standard_NV12s_v2",
                "Standard_NV12s_v3",
                "Standard_NV24",
                "Standard_NV24_Promo",
                "Standard_NV24s_v2",
                "Standard_NV24s_v3",
                "Standard_NV48s_v3",
                "Standard_NV6",
                "Standard_NV6_Promo",
                "Standard_NV6s_v2",
                "Standard_PB12s",
                "Standard_PB24s",
                "Standard_PB6s"
            ],
            "type": "String",
            "metadata": {
                "description": "The size of the Virtual Machine. Required"
            }
        },
        "kubeBinaryURL": {
            "defaultValue": "",
            "type": "String",
            "metadata": {
                "description": "The package tarball URL to extract kubelet and kubectl binaries from."
            }
        },
        "kubeClusterCidr": {
            "type": "String",
            "metadata": {
                "description": "Kubernetes cluster subnet"
            }
        },
        "kubeConfigCertificate": {
            "type": "String",
            "metadata": {
                "description": "The base 64 certificate used by cli to communicate with the master"
            }
        },
        "kubeConfigPrivateKey": {
            "type": "SecureString",
            "metadata": {
                "description": "The base 64 private key used by cli to communicate with the master"
            }
        },
        "kubeDNSServiceIP": {
            "type": "String",
            "metadata": {
                "description": "Kubernetes DNS IP"
            }
        },
        "kubeProxySpec": {
            "type": "String",
            "metadata": {
                "description": "The container spec for kube-proxy."
            }
        },
        "kubernetesACIConnectorEnabled": {
            "type": "Bool",
            "metadata": {
                "description": "ACI Connector Status"
            }
        },
        "kubernetesHyperkubeSpec": {
            "type": "String",
            "metadata": {
                "description": "The container spec for hyperkube."
            }
        },
        "kubernetesPodInfraContainerSpec": {
            "type": "String",
            "metadata": {
                "description": "The container spec for pod infra."
            }
        },
        "linuxAdminUsername": {
            "type": "String",
            "metadata": {
                "description": "User name for the Linux Virtual Machines (SSH or Password)."
            }
        },
        "location": {
            "defaultValue": "westus2",
            "type": "String",
            "metadata": {
                "description": "Sets the location for all resources in the cluster"
            }
        },
        "masterEndpointDNSNamePrefix": {
            "type": "String",
            "metadata": {
                "description": "Sets the Domain name label for the master IP Address.  The concatenation of the domain name label and the regional DNS zone make up the fully qualified domain name associated with the public IP address."
            }
        },
        "masterOffset": {
            "defaultValue": 0,
            "allowedValues": [
                0,
                1,
                2,
                3,
                4
            ],
            "type": "Int",
            "metadata": {
                "description": "The offset into the master pool where to start creating master VMs.  This value can be from 0 to 4, but must be less than masterCount."
            }
        },
        "masterSubnet": {
            "defaultValue": "10.240.0.0/12",
            "type": "String",
            "metadata": {
                "description": "Sets the subnet of the master node(s)."
            }
        },
        "masterSubnetIPv6": {
            "defaultValue": "",
            "type": "String",
            "metadata": {
                "description": "Sets the IPv6 subnet of the master node(s)."
            }
        },
        "masterVMSize": {
            "allowedValues": [
                "Standard_A0",
                "Standard_A1",
                "Standard_A10",
                "Standard_A11",
                "Standard_A1_v2",
                "Standard_A2",
                "Standard_A2_v2",
                "Standard_A2m_v2",
                "Standard_A3",
                "Standard_A4",
                "Standard_A4_v2",
                "Standard_A4m_v2",
                "Standard_A5",
                "Standard_A6",
                "Standard_A7",
                "Standard_A8",
                "Standard_A8_v2",
                "Standard_A8m_v2",
                "Standard_A9",
                "Standard_B12ms",
                "Standard_B16ms",
                "Standard_B1ls",
                "Standard_B1ms",
                "Standard_B1s",
                "Standard_B20ms",
                "Standard_B2ms",
                "Standard_B2s",
                "Standard_B4ms",
                "Standard_B8ms",
                "Standard_D1",
                "Standard_D11",
                "Standard_D11_v2",
                "Standard_D11_v2_Promo",
                "Standard_D12",
                "Standard_D12_v2",
                "Standard_D12_v2_Promo",
                "Standard_D13",
                "Standard_D13_v2",
                "Standard_D13_v2_Promo",
                "Standard_D14",
                "Standard_D14_v2",
                "Standard_D14_v2_Promo",
                "Standard_D15_v2",
                "Standard_D16_v3",
                "Standard_D16a_v3",
                "Standard_D16a_v4",
                "Standard_D16as_v3",
                "Standard_D16as_v4",
                "Standard_D16s_v3",
                "Standard_D1_v2",
                "Standard_D2",
                "Standard_D2_v2",
                "Standard_D2_v2_Promo",
                "Standard_D2_v3",
                "Standard_D2a_v3",
                "Standard_D2a_v4",
                "Standard_D2as_v3",
                "Standard_D2as_v4",
                "Standard_D2s_v3",
                "Standard_D3",
                "Standard_D32_v3",
                "Standard_D32a_v3",
                "Standard_D32a_v4",
                "Standard_D32as_v3",
                "Standard_D32as_v4",
                "Standard_D32s_v3",
                "Standard_D3_v2",
                "Standard_D3_v2_Promo",
                "Standard_D4",
                "Standard_D48_v3",
                "Standard_D48a_v3",
                "Standard_D48a_v4",
                "Standard_D48as_v3",
                "Standard_D48as_v4",
                "Standard_D48s_v3",
                "Standard_D4_v2",
                "Standard_D4_v2_Promo",
                "Standard_D4_v3",
                "Standard_D4a_v3",
                "Standard_D4a_v4",
                "Standard_D4as_v3",
                "Standard_D4as_v4",
                "Standard_D4s_v3",
                "Standard_D5_v2",
                "Standard_D5_v2_Promo",
                "Standard_D64_v3",
                "Standard_D64a_v3",
                "Standard_D64a_v4",
                "Standard_D64as_v3",
                "Standard_D64as_v4",
                "Standard_D64s_v3",
                "Standard_D8_v3",
                "Standard_D8a_v3",
                "Standard_D8a_v4",
                "Standard_D8as_v3",
                "Standard_D8as_v4",
                "Standard_D8s_v3",
                "Standard_D96a_v3",
                "Standard_D96a_v4",
                "Standard_D96as_v3",
                "Standard_D96as_v4",
                "Standard_DC2s",
                "Standard_DC4s",
                "Standard_DC8s",
                "Standard_DS1",
                "Standard_DS11",
                "Standard_DS11-1_v2",
                "Standard_DS11_v2",
                "Standard_DS11_v2_Promo",
                "Standard_DS12",
                "Standard_DS12-1_v2",
                "Standard_DS12-2_v2",
                "Standard_DS12_v2",
                "Standard_DS12_v2_Promo",
                "Standard_DS13",
                "Standard_DS13-2_v2",
                "Standard_DS13-4_v2",
                "Standard_DS13_v2",
                "Standard_DS13_v2_Promo",
                "Standard_DS14",
                "Standard_DS14-4_v2",
                "Standard_DS14-8_v2",
                "Standard_DS14_v2",
                "Standard_DS14_v2_Promo",
                "Standard_DS15_v2",
                "Standard_DS1_v2",
                "Standard_DS2",
                "Standard_DS2_v2",
                "Standard_DS2_v2_Promo",
                "Standard_DS3",
                "Standard_DS3_v2",
                "Standard_DS3_v2_Promo",
                "Standard_DS4",
                "Standard_DS4_v2",
                "Standard_DS4_v2_Promo",
                "Standard_DS5_v2",
                "Standard_DS5_v2_Promo",
                "Standard_E16-4s_v3",
                "Standard_E16-8s_v3",
                "Standard_E16_v3",
                "Standard_E16a_v3",
                "Standard_E16as_v3",
                "Standard_E16a_v4",
                "Standard_E16as_v4",
                "Standard_E16s_v3",
                "Standard_E20_v3",
                "Standard_E20a_v4",
                "Standard_E20as_v4",
                "Standard_E20s_v3",
                "Standard_E2_v3",
                "Standard_E2a_v3",
                "Standard_E2as_v3",
                "Standard_E2a_v4",
                "Standard_E2as_v4",
                "Standard_E2s_v3",
                "Standard_E32-16s_v3",
                "Standard_E32-8s_v3",
                "Standard_E32_v3",
                "Standard_E32a_v3",
                "Standard_E32as_v3",
                "Standard_E32a_v4",
                "Standard_E32as_v4",
                "Standard_E32s_v3",
                "Standard_E4-2s_v3",
                "Standard_E48_v3",
                "Standard_E48a_v3",
                "Standard_E48as_v3",
                "Standard_E48a_v4",
                "Standard_E48as_v4",
                "Standard_E48s_v3",
                "Standard_E4_v3",
                "Standard_E4a_v3",
                "Standard_E4as_v3",
                "Standard_E4a_v4",
                "Standard_E4as_v4",
                "Standard_E4s_v3",
                "Standard_E64-16s_v3",
                "Standard_E64-32s_v3",
                "Standard_E64_v3",
                "Standard_E64a_v3",
                "Standard_E64as_v3",
                "Standard_E64a_v4",
                "Standard_E64as_v4",
                "Standard_E64i_v3",
                "Standard_E64is_v3",
                "Standard_E64s_v3",
                "Standard_E8-2s_v3",
                "Standard_E8-4s_v3",
                "Standard_E8_v3",
                "Standard_E8a_v3",
                "Standard_E8as_v3",
                "Standard_E8a_v4",
                "Standard_E8as_v4",
                "Standard_E8s_v3",
                "Standard_E96a_v4",
                "Standard_E96as_v4",
                "Standard_F1",
                "Standard_F16",
                "Standard_F16s",
                "Standard_F16s_v2",
                "Standard_F1s",
                "Standard_F2",
                "Standard_F2s",
                "Standard_F2s_v2",
                "Standard_F32s_v2",
                "Standard_F4",
                "Standard_F48s_v2",
                "Standard_F4s",
                "Standard_F4s_v2",
                "Standard_F64s_v2",
                "Standard_F72s_v2",
                "Standard_F8",
                "Standard_F8s",
                "Standard_F8s_v2",
                "Standard_G1",
                "Standard_G2",
                "Standard_G3",
                "Standard_G4",
                "Standard_G5",
                "Standard_GS1",
                "Standard_GS2",
                "Standard_GS3",
                "Standard_GS4",
                "Standard_GS4-4",
                "Standard_GS4-8",
                "Standard_GS5",
                "Standard_GS5-16",
                "Standard_GS5-8",
                "Standard_H16",
                "Standard_H16_Promo",
                "Standard_H16m",
                "Standard_H16m_Promo",
                "Standard_H16mr",
                "Standard_H16mr_Promo",
                "Standard_H16r",
                "Standard_H16r_Promo",
                "Standard_H8",
                "Standard_H8_Promo",
                "Standard_H8m",
                "Standard_H8m_Promo",
                "Standard_HB120rs_v2",
                "Standard_HB60rs",
                "Standard_HC44rs",
                "Standard_L16s",
                "Standard_L16s_v2",
                "Standard_L32s",
                "Standard_L32s_v2",
                "Standard_L48s_v2",
                "Standard_L4s",
                "Standard_L64s_v2",
                "Standard_L80s_v2",
                "Standard_L8s",
                "Standard_L8s_v2",
                "Standard_M128",
                "Standard_M128-32ms",
                "Standard_M128-64ms",
                "Standard_M128m",
                "Standard_M128ms",
                "Standard_M128s",
                "Standard_M16-4ms",
                "Standard_M16-8ms",
                "Standard_M16ms",
                "Standard_M208ms_v2",
                "Standard_M208s_v2",
                "Standard_M32-16ms",
                "Standard_M32-8ms",
                "Standard_M32ls",
                "Standard_M32ms",
                "Standard_M32ts",
                "Standard_M416ms_v2",
                "Standard_M416s_v2",
                "Standard_M64",
                "Standard_M64-16ms",
                "Standard_M64-32ms",
                "Standard_M64ls",
                "Standard_M64m",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_M8-2ms",
                "Standard_M8-4ms",
                "Standard_M8ms",
                "Standard_NC12",
                "Standard_NC12_Promo",
                "Standard_NC12s_v2",
                "Standard_NC12s_v3",
                "Standard_NC24",
                "Standard_NC24_Promo",
                "Standard_NC24r",
                "Standard_NC24r_Promo",
                "Standard_NC24rs_v2",
                "Standard_NC24rs_v3",
                "Standard_NC24s_v2",
                "Standard_NC24s_v3",
                "Standard_NC6",
                "Standard_NC6_Promo",
                "Standard_NC6s_v2",
                "Standard_NC6s_v3",
                "Standard_ND12s",
                "Standard_ND24rs",
                "Standard_ND24s",
                "Standard_ND40rs_v2",
                "Standard_ND40s_v3",
                "Standard_ND6s",
                "Standard_NP10s",
                "Standard_NP20s",
                "Standard_NP40s",
                "Standard_NV12",
                "Standard_NV12_Promo",
                "Standard_NV12s_v2",
                "Standard_NV12s_v3",
                "Standard_NV24",
                "Standard_NV24_Promo",
                "Standard_NV24s_v2",
                "Standard_NV24s_v3",
                "Standard_NV48s_v3",
                "Standard_NV6",
                "Standard_NV6_Promo",
                "Standard_NV6s_v2",
                "Standard_PB12s",
                "Standard_PB24s",
                "Standard_PB6s"
            ],
            "type": "String",
            "metadata": {
                "description": "The size of the Virtual Machine."
            }
        },
        "maxPods": {
            "defaultValue": 30,
            "type": "Int",
            "metadata": {
                "description": "This param has been deprecated."
            }
        },
        "mobyVersion": {
            "defaultValue": "3.0.8",
            "allowedValues": [
                "3.0.1",
                "3.0.2",
                "3.0.3",
                "3.0.4",
                "3.0.5",
                "3.0.6",
                "3.0.7",
                "3.0.8"
            ],
            "type": "String",
            "metadata": {
                "description": "The Azure Moby build version"
            }
        },
        "nameSuffix": {
            "defaultValue": "31520791",
            "type": "String",
            "metadata": {
                "description": "A string hash of the master DNS name to uniquely identify the cluster."
            }
        },
        "networkMode": {
            "defaultValue": "",
            "allowedValues": [
                "",
                "transparent",
                "bridge"
            ],
            "type": "String",
            "metadata": {
                "description": "The network mode to use for CNI (transparent|bridge)"
            }
        },
        "networkPlugin": {
            "defaultValue": "azure",
            "allowedValues": [
                "kubenet",
                "azure",
                "flannel",
                "cilium",
                "antrea"
            ],
            "type": "String",
            "metadata": {
                "description": "The network plugin to use for Kubernetes (kubenet|azure|flannel|cilium|antrea)"
            }
        },
        "networkPolicy": {
            "defaultValue": "",
            "allowedValues": [
                "",
                "none",
                "azure",
                "calico",
                "cilium",
                "antrea"
            ],
            "type": "String",
            "metadata": {
                "description": "The network policy enforcement to use (calico|cilium|antrea); 'none' and 'azure' here for backwards compatibility"
            }
        },
        "orchestratorName": {
            "minLength": 3,
            "maxLength": 3,
            "type": "String",
            "metadata": {
                "description": "The orchestrator name used to identify the orchestrator.  This must be no more than 3 digits in length, otherwise it will exceed Windows Naming"
            }
        },
        "osImageName": {
            "defaultValue": "",
            "type": "String",
            "metadata": {
                "description": "Name of a Linux OS image. Needs to be used in conjuction with osImageResourceGroup."
            }
        },
        "osImageOffer": {
            "defaultValue": "UbuntuServer",
            "type": "String",
            "metadata": {
                "description": "Linux OS image type."
            }
        },
        "osImagePublisher": {
            "defaultValue": "Canonical",
            "type": "String",
            "metadata": {
                "description": "OS image publisher."
            }
        },
        "osImageResourceGroup": {
            "defaultValue": "",
            "type": "String",
            "metadata": {
                "description": "Resource group of a Linux OS image. Needs to be used in conjuction with osImageName."
            }
        },
        "osImageSKU": {
            "defaultValue": "16.04-LTS",
            "type": "String",
            "metadata": {
                "description": "OS image SKU."
            }
        },
        "osImageVersion": {
            "defaultValue": "latest",
            "type": "String",
            "metadata": {
                "description": "OS image version."
            }
        },
        "servicePrincipalClientId": {
            "type": "SecureString",
            "metadata": {
                "description": "Client ID (used by cloudprovider)"
            }
        },
        "servicePrincipalClientSecret": {
            "type": "SecureString",
            "metadata": {
                "description": "The Service Principal Client Secret."
            }
        },
        "sshRSAPublicKey": {
            "type": "String",
            "metadata": {
                "description": "SSH public key used for auth to all Linux machines.  Not Required.  If not set, you must provide a password key."
            }
        },
        "targetEnvironment": {
            "defaultValue": "AzurePublicCloud",
            "type": "String",
            "metadata": {
                "description": "The azure deploy environment. Currently support: AzurePublicCloud, AzureChinaCloud"
            }
        },
        "vnetCidr": {
            "defaultValue": "10.0.0.0/8",
            "type": "String",
            "metadata": {
                "description": "Cluster vnet cidr"
            }
        },
        "vnetCidrIPv6": {
            "defaultValue": "2001:1234:5678:9a00::/56",
            "type": "String",
            "metadata": {
                "description": "Cluster vnet cidr IPv6"
            }
        },
        "vnetCniLinuxPluginsURL": {
            "defaultValue": "https://kubernetesartifacts.azureedge.net/azure-cni/v1.0.30/binaries/azure-vnet-cni-linux-amd64-v1.0.30.tgz",
            "type": "String"
        },
        "vnetCniWindowsPluginsURL": {
            "defaultValue": "https://kubernetesartifacts.azureedge.net/azure-cni/v1.0.30/binaries/azure-vnet-cni-windows-amd64-v1.0.30.tgz",
            "type": "String"
        }
    },
    "variables": {
        "agentLbBackendPoolName": "[parameters('masterEndpointDNSNamePrefix')]",
        "agentLbID": "[resourceId('Microsoft.Network/loadBalancers',variables('agentLbName'))]",
        "agentLbIPConfigID": "[concat(variables('agentLbID'),'/frontendIPConfigurations/', variables('agentLbIPConfigName'))]",
        "agentLbIPConfigName": "[concat(parameters('orchestratorName'), '-agent-outbound')]",
        "agentLbName": "[parameters('masterEndpointDNSNamePrefix')]",
        "agentPublicIPAddressName": "[concat(parameters('orchestratorName'), '-agent-ip-outbound')]",
        "agentpool1Count": "[parameters('agentpool1Count')]",
        "agentpool1Index": 0,
        "agentpool1SubnetName": "[variables('subnetName')]",
        "agentpool1SubnetResourceGroup": "[split(variables('agentpool1VnetSubnetID'), '/')[4]]",
        "agentpool1VMNamePrefix": "k8s-agentpool1-31520791-vmss",
        "agentpool1VMSize": "[parameters('agentpool1VMSize')]",
        "agentpool1Vnet": "[split(variables('agentpool1VnetSubnetID'), '/')[8]]",
        "agentpool1VnetSubnetID": "[variables('vnetSubnetID')]",
        "agentpool1osImageName": "[parameters('agentpool1osImageName')]",
        "agentpool1osImageOffer": "[parameters('agentpool1osImageOffer')]",
        "agentpool1osImagePublisher": "[parameters('agentpool1osImagePublisher')]",
        "agentpool1osImageResourceGroup": "[parameters('agentpool1osImageResourceGroup')]",
        "agentpool1osImageSKU": "[parameters('agentpool1osImageSKU')]",
        "agentpool1osImageVersion": "[parameters('agentpool1osImageVersion')]",
        "apiVersionAuthorizationSystem": "2018-09-01-preview",
        "apiVersionAuthorizationUser": "2018-09-01-preview",
        "apiVersionCompute": "2019-07-01",
        "apiVersionDeployments": "2018-06-01",
        "apiVersionKeyVault": "2018-02-14",
        "apiVersionManagedIdentity": "2015-08-31-preview",
        "apiVersionNetwork": "2018-08-01",
        "apiVersionStorage": "2018-07-01",
        "applicationInsightsKey": "c92d8284-b550-4b06-b7ba-e80fd7178faa",
        "cloudInitFiles": {
            "customSearchDomainsScript": "H4sIAAAAAAAA/3xQy27bQAy871ewbg/tYbWyAaPX9iN66UWgVpS00WopkFQcGfn4wJGDIECQC4GZ4Wvm+7fQphJa1NEpGfgnp7xKJAi8WMDrKhQiF8NUSDQswo9JE5dmb6t0dI7iyHAA6Ip6JZQ4wgGewYjAIwSyGArZhWUKqRhJj5G06sK59jHz2vlUklWxH5xuajRHy42QGorBqYYzHGt4w/dFqQzugsmanqXBxZrMcVInZLLFuWtS3/SY8ip0Gz7D8VQDLuaHm8cNUlHDnEEI89yBqu7FG3NWUJxb9JHnmcsOPlLLZiOXU/X7TufUKiwYJxxoSvbZZ3tGt1heb8IDpwL+H/z58fNdMoGA/hog/PX/wy/4QnMvAQAA///FTBy9ugEAAA==",
            "dhcpv6ConfigurationScript": "H4sIAAAAAAAA/3RS3WqcQBS+n6f4apZNezG6W4g3TQPFaCpdFMKG3hTEHY/rUDNjnZlNYOO7F9cKbbq58XD+vh/PXLwLnOmDnVQBqQN2pWkYM2TBaQoaneyoLmU75Y6x26/RJo2zbVhEeZYUSbqJPwdkRVA1ohs/rSRlQ19oVbNokz/cFmmWbosouZvmFNkn3f8MpLLU16Ug41fB1YqLVruKSyWtL+o9Yz2VFXgPXuHyElm8/Z7ffzuRpncP91+2aZ7h+hpxHuHlBbZ3xOQIB7LNClKRDVE6qxkAuA6mJepwNaezUvA1eAguarxlA7ytERzKPmjl7vXAyOa3VBoy4IeJfNYT5xFjZVUVsi6UtgU9S2PN+w84nlTse+rAfz0n8BbH9eCN4ePgjeskGj1Xb27+NNjA2NSItKrl3vVS7Ucj3SGE7/seY1Y70bxtZLnEf3LgWflI2lmsV588LI5nLjyMmz9Oos/sL45nrzOMYP++gL9wjKs0ZF3pJzX9tOVyrrnuVHlttrRSKwj92LVkyWMXcZ6w3wEAAP//V01dfMMCAAA=",
            "dhcpv6SystemdService": "H4sIAAAAAAAA/zTNsc6CMBAH8P1e45uh27d10IiJkwMaB8JQy19prNfmeqD49A7EJ/h1Zw7a0w7FS8gaEluwu0YMo8/zP21uCrEMfSV5VIljYNTq5A4l6lrIHDx6Oi0ZNjHKmJSaN3yrTtSalNW4zyQwPrG6wJBiVqBahbqMRN2Bi7oYe7o4VgzbxT6nqKGaCuTH/TXHPX0DAAD//wVR54mwAAAA",
            "etcdSystemdService": "H4sIAAAAAAAA/2SQv27bMBDGdz6FhmZUuAfgoFZKm8FJITvoYBgGJZ2tg6mjendUqrcvTNRA3a7fH3683/6dUA+mBukZZ8VIDrQfirIY8TyGtfSLx+C7AMUF1mLxIUEhGhlMHfs0AanPrVF1lidrz6hj6h77ONk+MkSx1/f+CU+enrJcnRTYEehH5Mujej6Dmh+eVG5iGSkgwc1r4WdCBtnERCrPkZ1dPNuAXd4ZUC5mvwVesIeDaWhBjnQddnXVbN5ej1X7devujGb3pT6+VpvGPXz736irXXWsX9q7zjMGcOV10Q5w8imofZjNbp3BUVQ8reZdgDNJ8x14QhGMJFv1rG8UVqecwDS/oM+Ss0nYdkj5huLTX181LUiO+PDhVzH7FxL1IRwyJRg+r25KQbFMAvwH0u8AAAD//9O6UmvUAQAA",
            "generateProxyCertsScript": "H4sIAAAAAAAA/7xXX1OjSBB/n0/Ry6Y0eZiQxNt/8bCKQrbWUhOPZKvO2tuiEDpmLgRwZqJmXb77FRAIKERvd+980pnu35+enh58/Uq9YoF65Yg5ISJccRdBDSOpOt9WHFU3DKTDAuRCjXh4ywQLAzsL6yYZF9b4z0vb0O1T81JTWg/lv4eaKpdRkne/pq7PMJDUdboLXMdKnmhNS1nWtCHF5XKbcnZijqaP+Iq1GoAqYRZpTKwn2cbEqst2BX+SXVFdrNVmp8rNqXFsW+Yfn83J9JOpH5tWkaYnSLv2h1qG6CKXQuV4s0Ih5+h4yLcVojPmY0600WVmKh8tVeGqhUYua4A2la6u7IBZ4DpHOX0/sYuOMKyp/fHkzLzQp58SwMbNoaaidNXF6gp5gBKFWmHJ22Gbf2peNiCXd3bCbpqkpKlZ7UulbnSSbfEn9tnYOLVH+rmpKUtHSOR2GmonabYfugulFJ5FJ1yakraWy9GRmAZ3Z2zmK4SwGXz5AvQbKK0HYzw5H0/sz9ZJrMDXr4cg5xgQgOTojOmZbY6OL8Yno+kkP8/K4lCbSxmJoar2B++6vW6v2x8ODt59iJUShKFv9GwBNktNpSjOKwNJwi90Sz/XFEpdJ4nRnmDFCkFf4A9IrxShKr/ErJAZIzlK3iNl5HytyRRK16tMl8KAuemOSoXyxRfAbXomT00FT9JahculE3hUsiWGK6kd9ARQ+rh+OVMMNLmI2lNLMWzucl6OJBQDLwpZIIVWU91YIZY+Ok5dtdrLhcRl1CF4H4VcQr5DSBhhIIQP1xhw4QANVxJa5fcABr3f3hdhHG+ABngH9P5N7wNQz1kL6L8fvIVE+KPMCpg1BSpWV3/DvmqMtPT+GGnxDH1/p4rilWhSUibeBtdgGBOrrMG5vuZ47ciQq2NNrIXE5TC73mKrKLOZkqVe3x30gLKgDtnQK2YNvaYiAqUtkDPHh96gVqM1JeSOs83AELYMbY+JRbsDDwRge7f0ixPtANIelD5sGyDrvRiuUUJr1xMFlEacBZLeOv4KaRj4aziCVuOA/0H2YqQ/y1ce+z9Fltyn5909tibQA8pgvy/Uv4Sq7u8oRRPOTjfufBl68LbXa4yKa0/evmNybnOUfF00wSzkwCBpw7bAG+hDf9A5BC9MN5OfGhzY24Mrjs4Cvn8H4SNG8CaN98IASUyYsJMS23N0fDlftztNVL1eleulx5SPK8gY/qUewpdAZ7D9gqs8tbFClosZm4U7AshLhSYvOpRhSl8AMcBRMwfsERIxT2u9Sp54jo4HlKd4cs4E/N6cWTz72aeBooCmgdJq/5fXvVP53nj5QUar57gUaLVdR0Lpn4S4o8CR6uGtGqx8HwZHe/1DAjBjv8LzriHz8y636E98Fe/N/2CvYaz9Kn8pfIPBnec3Y2TBfB9aEfPIncNk9ttz9/WZWUdem+OP5J8AAAD//4RICBHpDgAA",
            "kubeletSystemdService": "H4sIAAAAAAAA/7yUS0/rOhDH9/kUo4rFZeGmLRUqQlnwCNwKBIgWsShV5LhDYtWxI8+ktPdyvvtRH6DTlw4szulyPL//b5qxPHiymofBJZLyumTtbHRTpWiQgwtnR3peeZCcx1NNTFFYkQ+NU9KEqbbheNUaBIMe+olWOAwekVh6jqR5kzMKYjvR3tkCLV9pg1GIrMIRvsrK8Cffq5RConiquceSK4qa7aMgnqLqzbMePEYLXyoph9CVHMr/Ko+hcpaltujpI6pO+Q6uGI+0B1FCOJE+NDr9NH+lV1m9bxahoKZfYQAH/xSusgzvkHks4aW2aXqpwTu8KRDmEIRBaMAQToFztLDULnAhUm1HW2NuF07hVdd2Tb+KKeQYBeXS43ZaEGyANCdpRooNiDewyHVdTtp1VmXikb1GakWd30PKeayTK+RUOWuj5vFRp/0NVSGnCc1skko1Ni77Kr+wFkgkM0yUI47ajW9SaeWJo05j88Ps2rMtvVOHIDKGDgw/Vrjvf1nUWV5f3fd6phLOPVLejNqNk+N9S/wjylbUaZ60/qryaLnCpXNdKpZZmLJMDRIIBivnF9do4p2tutxstVWBXqstaM8rBS8BrH5CoJ2HCUI/Qb92Yt0IhZEpGopqB//fPJ3Ht3E/ubu/jJPbs/P4tvejtgZMohasF5ypChSlqTJtxUj75aM3H8NbZKRw2bFsoF/Ygw/bxf3dVfd618ljfN3t9ePHxUA7ys/d/r9J/6x71+8FwaBriaUxw+BZWsbR+SwqKsNaVIS+ztJnyMHPAAAA///j0VhKAwYAAA==",
            "mountEtcdScript": "H4sIAAAAAAAA/2RSXW8aMRB896/YAG/lMJdWSIlEpEhNJNQGopQ+I3/snV2Mjc5rIGn73yvfQaDtvVje8c7Ozk3/ikvruRTRsD48heTJ+hpsBB08gsEGwfpIKDSECpCUBolKpIj5LlMNhmgbbzmXqY4jJ5JXZiv0yCNx5ULShfWW+AeZal5Obq7HNx9ZHxZeIZDBlsFGqOwB9RAa3DpxQtCFPewtmfbackHmAmWErzGeXufqu4rakklypMKG37+lBrlYxwJ9bT3ybXKOTybliEUkKA7s8+zblynXuONRK/Z8/7KcLWeL+XTwMyO/S/a0+D5fPi9m8+WU70TDnZU8e6BtXLOkcSf0BiISOWSbtbYNFFsYnLuYrWCTTYVfUDf4N0YGPQMAQGUC9DJntkK4BoV+7fpQ97onB0swZpXNjFcdV++kvOxBVsWrSEL+Szt4Xwu670LCsSIShXxqrERyFIc+VMK6Izo+ntc9uLu7HHQS4yKch5zH85iTFet2r6LwuIcSBtnYC3izruIID/TpggKKr23QVl3nIxQP4MTb68qSkA5XOQPTctiWfoTUeOGOtSyps/vS5zbhyoS9h+KlZb5tc/z/H+0/LB7ZnwAAAP//tt0O5RMDAAA=",
            "provisionConfigs": "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",
            "provisionInstalls": "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",
            "provisionScript": "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",
            "provisionSource": "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"
        },
        "clusterKeyVaultName": "",
        "contributorRoleDefinitionId": "[concat('/subscriptions/', subscription().subscriptionId, '/providers/Microsoft.Authorization/roleDefinitions/', 'b24988ac-6180-42a0-ab88-20f7382dd24c')]",
        "customCloudAuthenticationMethod": "client_secret",
        "customCloudIdentifySystem": "azure_ad",
        "enableTelemetry": true,
        "etcdCaFilepath": "/etc/kubernetes/certs/ca.crt",
        "etcdClientCertFilepath": "/etc/kubernetes/certs/etcdclient.crt",
        "etcdClientKeyFilepath": "/etc/kubernetes/certs/etcdclient.key",
        "etcdPeerCertFilepath": [
            "/etc/kubernetes/certs/etcdpeer0.crt",
            "/etc/kubernetes/certs/etcdpeer1.crt",
            "/etc/kubernetes/certs/etcdpeer2.crt",
            "/etc/kubernetes/certs/etcdpeer3.crt",
            "/etc/kubernetes/certs/etcdpeer4.crt"
        ],
        "etcdPeerCertificates": [
            "[parameters('etcdPeerCertificate0')]",
            "[parameters('etcdPeerCertificate1')]",
            "[parameters('etcdPeerCertificate2')]"
        ],
        "etcdPeerKeyFilepath": [
            "/etc/kubernetes/certs/etcdpeer0.key",
            "/etc/kubernetes/certs/etcdpeer1.key",
            "/etc/kubernetes/certs/etcdpeer2.key",
            "/etc/kubernetes/certs/etcdpeer3.key",
            "/etc/kubernetes/certs/etcdpeer4.key"
        ],
        "etcdPeerPrivateKeys": [
            "[parameters('etcdPeerPrivateKey0')]",
            "[parameters('etcdPeerPrivateKey1')]",
            "[parameters('etcdPeerPrivateKey2')]"
        ],
        "etcdServerCertFilepath": "/etc/kubernetes/certs/etcdserver.crt",
        "etcdServerKeyFilepath": "/etc/kubernetes/certs/etcdserver.key",
        "excludeMasterFromStandardLB": "true",
        "jumpboxNetworkInterfaceName": "[concat(parameters('jumpboxVMName'), '-nic')]",
        "jumpboxNetworkSecurityGroupName": "[concat(parameters('jumpboxVMName'), '-nsg')]",
        "jumpboxOSDiskName": "[concat(parameters('jumpboxVMName'), '-osdisk')]",
        "jumpboxPublicIpAddressName": "[concat(parameters('jumpboxVMName'), '-ip')]",
        "kubeconfig": "    {\n        \"apiVersion\": \"v1\",\n        \"clusters\": [\n            {\n                \"cluster\": {\n                    \"certificate-authority-data\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV5VENDQXJHZ0F3SUJBZ0lRRFFRaWxacWlUdThSSGRyN2NTemVrakFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWdGdzB5TURBeE1qa3hPVEF5TkRaYUdBOHlNRFV3TURFeU1URTVNREkwTmxvdwpEVEVMTUFrR0ExVUVBeE1DWTJFd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUN5CnZQSFRzcmhvSSszRm1hKzFMMzNEOG9WY0ZmOG5UT1ArVzRna2Q1a3RnSXNURGU5aVRHNzkvV3JPNi8vUVh1NUIKaEdZYmZzWFM4MWdmejd5WmNSYmxTRll3aTh1TXh2NUoxc0dEUWJIZ1V6NnJ4UjdZUXlvZEIvck9nQzRsODY0bgptQUlQSGtsZng0cWlKNXpvQjRnVEcyTFdIQWlwQ3IvOHFvd0ZEaGp2MG9qRVZvNW1KSGN4Qmh3clZhZSt6R0xpClJvY2V2WTFlMVJwZ3dvaXg0OWxXSFZ0VjAvLzZqdFFiTkprNE1lcmtnczJ5RUNtZURpK0NlS3dEMy83MUFGVDMKMXY1bU8xREduWUlUclpCbmN3Ym55dnd6MW94OGhQd08wRmNDb0dYWXA4cmNIem5kckFkaTR3YTU1amxUQjRMVAp5NWJWc0krR2FWUGR6cFFPcFhQdHo0NDZZU1J4R0EyejBldVQyZnkxZ3Yray9aR1JoMjVhbnBLQ2hvdjljZWZpCjYrN00vZ1Q4Q2QzM1ZpV1dqeS9ha0hnRmsycnBFU0FmU2xRMWdUckpOQ0s0ZE1DRmpzdkdqSWRYYnI1OTg3YysKMWVrSksrdDhDRDUwSHpQeWx0WUFRZ3NGcllSamd4dmVvQzJydEVuZHJOTUVuRDZOejlMdmZPUzhlRlpMYzNwdQpnS2NUUDlkclVQQjNBM0k2WjJmcUdraGNlQ2NRRXZCb3REdEVKSzdXUHkvVEdRaWxDU3lLT09UdmNwRmZOa0E0CkN2M2ExSjRjVm9sUUVVL2pYVjNLaWtQc2x5WVdydDAzRE1TVzB0UHhndzIxQlRkY2NzRkE2aGM4TXNZWlVJZzMKZERudHNhbFpySUxaUnNDYlY2R0RyTFNWU1ErNHVwTWNHRlFjejdCWERRSURBUUFCb3lNd0lUQU9CZ05WSFE4QgpBZjhFQkFNQ0FxUXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFKZ1dlClRHbUpiQ0hBTURMRHluVVdYZU9UZm11OXU5OC9wMGZhT2hxa0s5aHQvREFWakZCTXNOL0tQYjdpeVE0UTBzYWwKRlRUKzgrbnpBSGFnWFF1Wlp1Y2tJOFFaV2xnUnVYODlEcGVFWGVWOVBFaUZaYTBFNm50VEZRYWJKckFqY2xDKwo5NnlMTHRidVFHRlVLZnBEVzc1cnVVVWRDbGxsSkFDNkJ2L3N5YWRLTEZ3NlpXaEoyRGduSVI3dGpUMFhrYnkrCjF1Q0JkcktQWHFqQ1BXUXgwQzIxdWlZdFRvRFdjcFAxM3NGZ3NkQkUxMEp4VWkyMUhhWVA1cXNPM05CdHRzNFYKQkovU0VIS1U2bkMrQ2lKVDNTRHpqcTFDOTErQVF0cVBMVW9KelhMZ0lXSzZLYWRhL3B5ZmtMQzJnNE00MlJXMApEcjRKTDQvd2FqZ2U2cTVXQ3dFRU10citDbnFOdVZwSGpsMWJTU0JMZStmaEQ2REk5WmxSYmdqUy9Db3NSeFcvCnRIOWRTYWViemVmTHNvdlg5N2YwbGpDSkVrbGx1YlRsN2NaSE83ZGtyRE5RQk11WlF6d2N3TzN4eElpS2d5djMKS0M4Z0ZIRVpwWTZjaWExOVVRM3BZSGYzQzJNZnEyY0pOa2RYeTJMYzROZWVYdTZiU0QydFNQR1dTVmJIaHZ2TwppSVg2dnNLTWNRb2t3M2ZMU00zbzVUaWxJSlVMaEdUZDBjaHJHT00xS1BPT2NJQ2ZpdTBhRXlLWTBDSWZYdjZ3Cm4xSndvaUtmL0ZTWm1oVFJMMno3eDI2bCtaeFFhYnhjVy9tYkVOZ0xWcEJqMU42NlpmT0pja0kvZ0lRRzA2WWIKbENxUXVIL0UxQStUb3Z2Mi9HYUZnTnNPL1J5bEprMjByRzBrc05vPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\",\n                    \"server\": \"https://10.255.255.15\"\n                },\n                \"name\": \"kubernetes-westus2-51462\"\n            }\n        ],\n        \"contexts\": [\n            {\n                \"context\": {\n                    \"cluster\": \"kubernetes-westus2-51462\",\n                    \"user\": \"kubernetes-westus2-51462-admin\"\n                },\n                \"name\": \"kubernetes-westus2-51462\"\n            }\n        ],\n        \"current-context\": \"kubernetes-westus2-51462\",\n        \"kind\": \"Config\",\n        \"users\": [\n            {\n                \"name\": \"kubernetes-westus2-51462-admin\",\n                \"user\": {\"client-certificate-data\":\"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUUrRENDQXVDZ0F3SUJBZ0lRVURQb05uUnJsb2ZPdnNrbTRtUWo4REFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWdGdzB5TURBeE1qa3hPVEF5TkRkYUdBOHlNRFV3TURFeU1URTVNREkwTjFvdwpLakVYTUJVR0ExVUVDaE1PYzNsemRHVnRPbTFoYzNSbGNuTXhEekFOQmdOVkJBTVRCbU5zYVdWdWREQ0NBaUl3CkRRWUpLb1pJaHZjTkFRRUJCUUFEZ2dJUEFEQ0NBZ29DZ2dJQkFPUkgzRkNQK3pGZkl0Sm82Rm1DWjQzRUVpYzUKVk5vSzNTSkdJS2RWbGk1OStFcjEyMHJxbCtqbndxNnFyRUs4eGNqWGpKODBZcnhtQlV0YW0rcWNvYjc5Z3BnbgpCa0pDbmx0QkJyVkFZUkp3MU1nenQ4SVk3Z1BFQ3VvK1hpSkowRExsZ2J6N0RtbFY1M2kxZGw5Smdkb1FTLy9wClJaTlRud1pBTDJiSlNpemV2em9vRUMvMWVRZkhzOHlaa2czTXc5ekNDVWs1dW5CellxN1creFlmNGh0ak51RmYKSTluT3hGamhPdG5pVUpjVDNiZVV2Y3dEZ20yVzRlV0oxc0NXdmRDcnJWSDUvL3ExS3M0dk16MmtXNWFkVzNFUgpiQXhwU2lFUksvT1Zrd0l6QmZFZGlPV2hYbzdkSDBsLzE1aW5IVmtOZGpJcWk4QlUxNlpjdkw4dWdYc3lJNmcyClpFV2Q0VjVEWXp3NnRrWmViTGlVQTZkZ2NVamtpdWV3ZGlvSXBRKzJkR01XVXRvZ3lWTGwvd3lmblE1aGIxdjAKMmF1QmxidE1YM1p2aGtyeldmdHFvNWI0UWtVd1N2b3F0RHp1UFJTSFlEdlpuazc0b0lUMkNFMzJIV2pkVnNubApVQ3FGb1l4VThnZWxIaDlMNlNxN1E1VTNXeWJsanhsNkhPWlpLZmcvdTIxekc1YkxHcE9PZXRtcFQzNm04WFE1CmlhSWRHODZ5eWlkK2orQXBDc25vUERTUWhHc3QwN1h4dlNqRlRCZTlNR09Yajc2SUNpYVkrNU1YbXVBNmZBQjcKTTcvMnVRcGI2QWRPdnBud2tlQlRHNW8vWFhjUm5FMHpFTml0NDZ4SU9KTEpNc2tOS1dkZHo0YlVIOExFY3M4NgpEWU4veDA4Qml4L0hwS0Y1QWdNQkFBR2pOVEF6TUE0R0ExVWREd0VCL3dRRUF3SUZvREFUQmdOVkhTVUVEREFLCkJnZ3JCZ0VGQlFjREFqQU1CZ05WSFJNQkFmOEVBakFBTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFDQ1gwN2sKbFBubGJaRWNIYXhXYXNRWUZjMEttbXh3NWlOSUJ4Tnl5RkVQVlZEWnpMYkpLeHlTM3d6d1FvN3M4NTZMT2RjLwoyZFlwOGRJenZQYlVVYlJidXNGRkVwWFUxeDVERy9OTmpsRW9ySm1WYzhvNFk5WEhyZ0pkTWxkK3hsM09oZ2crCkpqZkd0VmI5aWhScjEraklHTElza0JwZXd0K3lpM0VabzltOEVNWEkweTZqMStmTUhZelpXZ3pBV2JRZ1VSLzAKSm5vOWNmZEFXb2dRYlFYR3lzZWs2Y3d0a0NYOWg0YWhLZnJmclIxaGhpYWxDd3BFNVZ1MFU4T0ZhWU5RL1U3cApRYVZ0Q0U1b2FhL1hHT3cwQUFCdDVydlhPQ2VtZ1c2dmcyL3ZaT2dKVGE1Rkp0UWJ4VmhYOXJ3RmxodEhDY1ZvCng3Qng4WXRiRldVK2drWVozelZzV1o5bkh3NkxBRWNBeVJ0VXlIQ256R1pGQ1k3TlNhL2JOMnU1UjEwSUJQdXUKVkt3MFVEVjBnOXlrbjdtVzJwNGxWQUFRcXB5b1ptb3paTmpUL0ZXR2ZmS3lRYURpVGR4RnI4N3g4MkVyOXhOawpBUUxTZ1Jja1dyVkNLYW85S3k2ZUlsUnlNcVJwY2xkS0NlbWhKVmFYd0R5UlNYWklCSWZqZFNiZUZwam0vME5BCmRudlE4TWh3aHE0NWE1QjVFTW1xbExHU3BJQllWNWxLZXlkRy8xdnFpLzJ3L2lCenlLaGxiTG82cUVwQUJwdmYKMlNEVWdWWlJvbGVuS1d3SldXSE15RzRRZXU5azBNaUJENytwbyt1Y2V2M0ZZN1BPUkdVNnloeG1iNWVDbVBReApTL3BmOTZqMERUU0puNUpiQUFpZjBlUndSRWFybU5pMnNjYTJLUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\",\"client-key-data\":\"LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBNUVmY1VJLzdNVjhpMG1qb1dZSm5qY1FTSnpsVTJncmRJa1lncDFXV0xuMzRTdlhiClN1cVg2T2ZDcnFxc1FyekZ5TmVNbnpSaXZHWUZTMXFiNnB5aHZ2MkNtQ2NHUWtLZVcwRUd0VUJoRW5EVXlETzMKd2hqdUE4UUs2ajVlSWtuUU11V0J2UHNPYVZYbmVMVjJYMG1CMmhCTC8rbEZrMU9mQmtBdlpzbEtMTjYvT2lnUQpML1Y1QjhlenpKbVNEY3pEM01JSlNUbTZjSE5pcnRiN0ZoL2lHMk0yNFY4ajJjN0VXT0U2MmVKUWx4UGR0NVM5CnpBT0NiWmJoNVluV3dKYTkwS3V0VWZuLytyVXF6aTh6UGFSYmxwMWJjUkZzREdsS0lSRXI4NVdUQWpNRjhSMkkKNWFGZWp0MGZTWC9YbUtjZFdRMTJNaXFMd0ZUWHBseTh2eTZCZXpJanFEWmtSWjNoWGtOalBEcTJSbDVzdUpRRApwMkJ4U09TSzU3QjJLZ2lsRDdaMFl4WlMyaURKVXVYL0RKK2REbUZ2Vy9UWnE0R1Z1MHhmZG0rR1N2TlorMnFqCmx2aENSVEJLK2lxMFBPNDlGSWRnTzltZVR2aWdoUFlJVGZZZGFOMVd5ZVZRS29XaGpGVHlCNlVlSDB2cEtydEQKbFRkYkp1V1BHWG9jNWxrcCtEKzdiWE1ibHNzYWs0NTYyYWxQZnFieGREbUpvaDBienJMS0ozNlA0Q2tLeWVnOApOSkNFYXkzVHRmRzlLTVZNRjcwd1k1ZVB2b2dLSnBqN2t4ZWE0RHA4QUhzenYvYTVDbHZvQjA2K21mQ1I0Rk1iCm1qOWRkeEdjVFRNUTJLM2pyRWc0a3NreXlRMHBaMTNQaHRRZndzUnl6em9OZzMvSFR3R0xIOGVrb1hrQ0F3RUEKQVFLQ0FnQmpCWGpmeVZUZzJhKzFMYVI4RDBEMEViVCtKclJUMEpxVG4yL1NwaUY3RVZGKzBwN0pKSEc0cWErZApMSk9FYjNZcjVMUXU2djVaVXJmQk5CQ2wrRU9CSVY1Z3VhelJXU3h2MFFrajNrVTlSb3hHTzRqZVBRb2h3QXdzCkI5bTFiZWRON0pnV2JhQ1d1SmlybDZzOU1obU5pYnd0eWZaUUxkbXhVRzQvVzlrOUZYSkZ1OU1wdW9WQmhyTEwKY1dJVmNsa1RqV2VSeCtURG1vbVg1ZEVNaTgvOHFWREkrZ2dIRnRXODZCWXJKU3hvSEVuMHRDU1FOb1dCSEEzcApENTJEOU45cGdNNngzSXZaS0hUazh6eDY1S3lGN01RWmk4RWVzUjFpc3B3cUVSdXZ2SW83U09CMUcwWjFHaDNVCk9BeEJQMXhQb0xOQWw0di9aYzRWYit5LzBXQ0FTZnZBTStQMVVPczNTU0pXSlhPM0IzdnRBeUprcVVDclRNUzYKVmNuZGtnSVZTajNSUFJtUm4rZ2Y4MDNvdEFXLy9tQW1BQlFYVWFCK25aUE5TT1pCbkQ4N3F2RjV2d0huZCtUdgo2eVlpd3ZYWXRyMEhiejJ5cVNJRUxTKytVc0FoenJTWWE4OGVtRUdnaWxyR04xVXdUdXB6VWlDbkhicy9mdlVaCjZVZHJ2d1BacFUvRnJ3NW5CWHRzZ05BUU5naEhoMWhVVThicTJSbGthVmM3UGJ3NDV4MCsvdTV5RmJHYU5GQjEKa2RDK3VHTGxuWmJ6Yk1HVFptTlcwR2Rzc2Y2bXhJSkhTSDRwNDFjU2dTSWVLNGR5MHdxMFVUMXBlQThEYkNDMgpWcmZyYWFoUkxLZjhmR0llcXdrSU5SNkhqRmV1dGdBV045d0c2SEZXRTZ2b1B1THF3UUtDQVFFQTVRMkpRcHJqCkoydFExS3h4bE5HSW94M1A2SDlxYUR0OEc1L2p2Z3YxN1Y2N1hEdDFSMmhvMktWY2dPZGY0OWg4QktGS3dVblcKRTVLMU9ZYStkc0NyeGJLQkdIZlpSZnNCQmNsSVMvZ1lCalNjWkJLYXliZjQ2SnJUeFA0ZitzL2JMYVJNYzZDcwpXMXl6V2IzQWRKRmtBYzYrNnFhcXlnbklsV1ZpZlQvcFJ6R2s4d3ZiVWxPanBUekNCYk9uRnY2U2FKM00xbkJaClBPWENaZkZwN1Z0cHFBQUpGMlZ5YjlnbUt5WElPVmJhMVlhMGIxRXhJcS9LVTByOFhMNHAxeWUzcTkzV090ZDUKbXBzNnhZY2NjUWVWbTNJNnVsSkVrbjVHSDJORVRBRlA1bVZnbnRYSVhTYVZkQ1FpL3QwbzBqNklHcStpd2hVbgpkVCtXZXltNnRzWmN4UUtDQVFFQS95TVJsMy8ybThZZit1UjQ5R2J6dSs0VWxueForREs3c3JGajRqMWRCditFCjFXSzN3REdxeXpSYWJndC81L3ExL0dsMUtEdURydG5aaUlFNysxVms4alpXVVFzK2QyeHEzMHFlNHVVVko4alMKekF1TUlhOFFLQjB6czhLVEd3MGJjRkNoR2Q3eVZvQWhkSkNGcyt4TVR2RHc2QmxJME80ZXQyM2s5d1FQMmVPawp1Mi9sSVcyOEpTajU0QitlbEVHK2R1RjRoZWJVOWUzMDd4K3BCdEZZaW15UkZpcC9ZVG1kdjU3a0ZROTBFbzEzCkx1ekVqMFRpQkE3VkRHSlNsUFhvTzBHWDZPekUyZmJ0aE5TeDFJMFJSdy9Oc0VHbjVjZklSd084M2lTb3laNzYKR2d4d1FqUTZydlcvdVF2VDh4NUJ4N1RmR0t6RFR3RG9mdDdJdGRubEpRS0NBUUEvZXQvbW9LeUJ1VUUrbjhnZQp1VytIM1hSSWVEK1NRYUlrdWN4UldGbEEvdmNvR2Fab011eVQxa2hyeFRRVEhtVklsemJ6bUxZRzJLcjNGWHZsCng0SVRtV1FqMXR0VmhMb0UwNE1BNHZJdGpoa2x0dTVGSjRLSlhKZUNTZmVzK0R4RFN2eVJNeDl4ZHFDU0ozK1cKRHRGTG12UFliblo0NWZzOFJFdm1jSGNEYnlQSzVDZFZpcTZZMWR6ajNhVmFQeFZ1ZndWTkRQZitZNkxidyt0YQpoL0loU0ZrOHJiWG9mMXdjcXl6eGp6dTQzOHRUNm9tV2xtZVphL2ZDOEVVQ1J4U2xRaWJrU2VGKzByU1lGOWp2CkRtNE5GYnhtOVBQaU1iTFhjaGgwaEF5VHl0YmJUbDVvU3BBekR1elArNVVicDQ3cTduQktIN2kreXUrMmxKc1YKbXFZTkFvSUJBQitIa3UzNUIxM2F6eXJ2UHk5YzViUU15UWlMMTRaL3BvaC91WXRFOEJFa1ZLTVdMd1VXWGpmOApnVXhtS1dsZXAwekpMNHhJUm82K0owN2lRYXBldERubWt5WXkwSVpycEkxeHFFNzc1bkJqTmdHM1Q1citDbTRhCnBjQUtSS21zSmY3c1IreHRpOTg2dUdleVVJT2FxUmQ4V1JrbHZzVHJHR3FzcndZRHYzMjZ6eW5HdXpjMVczSHcKTFdrUUgwWE5GaCtVMzVNVW9xNjl1RzR3cUcvS1FUbmlEdEFCY25wdVoxczk1SXZodkFOcTdoYWpkZXNLcFMvQgpNWHoxVGFWUSttRVFTeGlpNGZUWnVpS1hNbDdGRENTUEJHbEt3OWYycDM1M0xNajdHTXpKMDdpU1h2RWZpVDBECjY2eVBsS0xQMDJzOW8vQmxzVUU3S0lBOVFlcVBRZTBDZ2dFQkFNbUZRRytGbXZIOGUwQlZCUjhwVG5FdSs0QlcKelJXalRBVDBRMEN4dVRraURFNVh4SVJiSnljOVc2WVBKa0JHSVBDemlkYTVVZ05sbnZuNEgzS1JiVTJlUGEwRApwWlp3d1ZCSXoyckxHS1o2aTgzcWdZMGpza0lkVDVvRFd6WDg3Sjl4ZElESzhGMUgycklNRXByS1RJdmQ0NUtzCkxCc1pGNEFJQmxlakdjWEcya0ZyZ2dFU1VWdmYvcDBOTUpNenNVT1BTQlhIVkZEN0xCTXFTM3o5Sk82S0RQU1AKT2NwR08za3ByL2xYRGVsUDdFcUo3enJzdFB6bFdsMTJ2V0VDWS9SSVhRalo3YjA0MHJzQ0ZDakVMWG1FcjVSVQpaZ0VhRUR3alk2eGZBUWoxbENTcXZiaUlqNUZPNFk2Yk1wMnJrSGlDTU1uZG44emVvb0s1TWc4NHZPND0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K\"}\n            }\n        ]\n    }\n",
        "kubeconfigServer": "[concat('https://', variables('kubernetesAPIServerIP'), ':443')]",
        "kubernetesAPIServerIP": "[concat(variables('masterFirstAddrPrefix'), add(variables('masterInternalLbIPOffset'), int(variables('masterFirstAddrOctet4'))))]",
        "labelResourceGroup": "[if(or(or(endsWith(variables('truncatedResourceGroup'), '-'), endsWith(variables('truncatedResourceGroup'), '_')), endsWith(variables('truncatedResourceGroup'), '.')), concat(take(variables('truncatedResourceGroup'), 62), 'z'), variables('truncatedResourceGroup'))]",
        "loadBalancerSku": "Standard",
        "location": "[variables('locations')[mod(add(2,length(parameters('location'))),add(1,length(parameters('location'))))]]",
        "locations": [
            "[resourceGroup().location]",
            "[parameters('location')]"
        ],
        "masterAvailabilitySet": "[concat('master-availabilityset-', parameters('nameSuffix'))]",
        "masterCount": 3,
        "masterEtcdClientPort": 2379,
        "masterEtcdClientURLs": [
            "[concat('https://', variables('masterPrivateIpAddrs')[0], ':', variables('masterEtcdClientPort'))]",
            "[concat('https://', variables('masterPrivateIpAddrs')[1], ':', variables('masterEtcdClientPort'))]",
            "[concat('https://', variables('masterPrivateIpAddrs')[2], ':', variables('masterEtcdClientPort'))]",
            "[concat('https://', variables('masterPrivateIpAddrs')[3], ':', variables('masterEtcdClientPort'))]",
            "[concat('https://', variables('masterPrivateIpAddrs')[4], ':', variables('masterEtcdClientPort'))]"
        ],
        "masterEtcdClusterStates": [
            "[concat(variables('masterVMNames')[0], '=', variables('masterEtcdPeerURLs')[0])]",
            "[concat(variables('masterVMNames')[0], '=', variables('masterEtcdPeerURLs')[0], ',', variables('masterVMNames')[1], '=', variables('masterEtcdPeerURLs')[1], ',', variables('masterVMNames')[2], '=', variables('masterEtcdPeerURLs')[2])]",
            "[concat(variables('masterVMNames')[0], '=', variables('masterEtcdPeerURLs')[0], ',', variables('masterVMNames')[1], '=', variables('masterEtcdPeerURLs')[1], ',', variables('masterVMNames')[2], '=', variables('masterEtcdPeerURLs')[2], ',', variables('masterVMNames')[3], '=', variables('masterEtcdPeerURLs')[3], ',', variables('masterVMNames')[4], '=', variables('masterEtcdPeerURLs')[4])]"
        ],
        "masterEtcdPeerURLs": [
            "[concat('https://', variables('masterPrivateIpAddrs')[0], ':', variables('masterEtcdServerPort'))]",
            "[concat('https://', variables('masterPrivateIpAddrs')[1], ':', variables('masterEtcdServerPort'))]",
            "[concat('https://', variables('masterPrivateIpAddrs')[2], ':', variables('masterEtcdServerPort'))]",
            "[concat('https://', variables('masterPrivateIpAddrs')[3], ':', variables('masterEtcdServerPort'))]",
            "[concat('https://', variables('masterPrivateIpAddrs')[4], ':', variables('masterEtcdServerPort'))]"
        ],
        "masterEtcdServerPort": 2380,
        "masterFirstAddrComment": "these MasterFirstAddrComment are used to place multiple masters consecutively in the address space",
        "masterFirstAddrOctet4": "[variables('masterFirstAddrOctets')[3]]",
        "masterFirstAddrOctets": "[split(parameters('firstConsecutiveStaticIP'),'.')]",
        "masterFirstAddrPrefix": "[concat(variables('masterFirstAddrOctets')[0],'.',variables('masterFirstAddrOctets')[1],'.',variables('masterFirstAddrOctets')[2],'.')]",
        "masterFqdnPrefix": "[tolower(parameters('masterEndpointDNSNamePrefix'))]",
        "masterInternalLbID": "[resourceId('Microsoft.Network/loadBalancers',variables('masterInternalLbName'))]",
        "masterInternalLbIPConfigID": "[concat(variables('masterInternalLbID'),'/frontendIPConfigurations/', variables('masterInternalLbIPConfigName'))]",
        "masterInternalLbIPConfigName": "[concat(parameters('orchestratorName'), '-master-internal-lbFrontEnd-', parameters('nameSuffix'))]",
        "masterInternalLbIPOffset": 10,
        "masterInternalLbName": "[concat(parameters('orchestratorName'), '-master-internal-lb-', parameters('nameSuffix'))]",
        "masterLbBackendPoolName": "[concat(parameters('orchestratorName'), '-master-pool-', parameters('nameSuffix'))]",
        "masterLbID": "[resourceId('Microsoft.Network/loadBalancers',variables('masterLbName'))]",
        "masterLbIPConfigID": "[concat(variables('masterLbID'),'/frontendIPConfigurations/', variables('masterLbIPConfigName'))]",
        "masterLbIPConfigName": "[concat(parameters('orchestratorName'), '-master-lbFrontEnd-', parameters('nameSuffix'))]",
        "masterLbName": "[concat(parameters('orchestratorName'), '-master-lb-', parameters('nameSuffix'))]",
        "masterOffset": "[parameters('masterOffset')]",
        "masterPrivateIpAddrs": [
            "[concat(variables('masterFirstAddrPrefix'), add(0, int(variables('masterFirstAddrOctet4'))))]",
            "[concat(variables('masterFirstAddrPrefix'), add(1, int(variables('masterFirstAddrOctet4'))))]",
            "[concat(variables('masterFirstAddrPrefix'), add(2, int(variables('masterFirstAddrOctet4'))))]",
            "[concat(variables('masterFirstAddrPrefix'), add(3, int(variables('masterFirstAddrOctet4'))))]",
            "[concat(variables('masterFirstAddrPrefix'), add(4, int(variables('masterFirstAddrOctet4'))))]"
        ],
        "masterPublicIPAddressName": "[concat(parameters('orchestratorName'), '-master-ip-', variables('masterFqdnPrefix'), '-', parameters('nameSuffix'))]",
        "masterVMNamePrefix": "k8s-master-31520791-",
        "masterVMNames": [
            "[concat(variables('masterVMNamePrefix'), '0')]",
            "[concat(variables('masterVMNamePrefix'), '1')]",
            "[concat(variables('masterVMNamePrefix'), '2')]",
            "[concat(variables('masterVMNamePrefix'), '3')]",
            "[concat(variables('masterVMNamePrefix'), '4')]"
        ],
        "maxVMsPerPool": 100,
        "maximumLoadBalancerRuleCount": 250,
        "networkContributorRoleDefinitionId": "[concat('/subscriptions/', subscription().subscriptionId, '/providers/Microsoft.Authorization/roleDefinitions/', '4d97b98b-1d4f-4787-a291-c67834d212e7')]",
        "nsgID": "[resourceId('Microsoft.Network/networkSecurityGroups',variables('nsgName'))]",
        "nsgName": "[concat(variables('masterVMNamePrefix'), 'nsg')]",
        "orchestratorNameVersionTag": "Kubernetes:1.16.6",
        "primaryAvailabilitySetName": "",
        "primaryScaleSetName": "k8s-agentpool1-31520791-vmss",
        "provisionScriptParametersCommon": "[concat('ADMINUSER=',parameters('linuxAdminUsername'),' ETCD_DOWNLOAD_URL=',parameters('etcdDownloadURLBase'),' ETCD_VERSION=',parameters('etcdVersion'),' CONTAINERD_VERSION=',parameters('containerdVersion'),' MOBY_VERSION=',parameters('mobyVersion'),' TENANT_ID=',variables('tenantID'),' KUBERNETES_VERSION=1.16.6 HYPERKUBE_URL=',parameters('kubernetesHyperkubeSpec'),' APISERVER_PUBLIC_KEY=',parameters('apiServerCertificate'),' SUBSCRIPTION_ID=',variables('subscriptionId'),' RESOURCE_GROUP=',variables('resourceGroup'),' LOCATION=',variables('location'),' VM_TYPE=',variables('vmType'),' SUBNET=',variables('subnetName'),' NETWORK_SECURITY_GROUP=',variables('nsgName'),' VIRTUAL_NETWORK=',variables('virtualNetworkName'),' VIRTUAL_NETWORK_RESOURCE_GROUP=',variables('virtualNetworkResourceGroupName'),' ROUTE_TABLE=',variables('routeTableName'),' PRIMARY_AVAILABILITY_SET=',variables('primaryAvailabilitySetName'),' PRIMARY_SCALE_SET=',variables('primaryScaleSetName'),' SERVICE_PRINCIPAL_CLIENT_ID=',variables('servicePrincipalClientId'),' SERVICE_PRINCIPAL_CLIENT_SECRET=',variables('singleQuote'),variables('servicePrincipalClientSecret'),variables('singleQuote'),' KUBELET_PRIVATE_KEY=',parameters('clientPrivateKey'),' NETWORK_PLUGIN=',parameters('networkPlugin'),' NETWORK_POLICY=',parameters('networkPolicy'),' VNET_CNI_PLUGINS_URL=',parameters('vnetCniLinuxPluginsURL'),' CNI_PLUGINS_URL=',parameters('cniPluginsURL'),' CLOUDPROVIDER_BACKOFF=',toLower(string(parameters('cloudproviderConfig').cloudProviderBackoff)),' CLOUDPROVIDER_BACKOFF_MODE=',parameters('cloudproviderConfig').cloudProviderBackoffMode,' CLOUDPROVIDER_BACKOFF_RETRIES=',parameters('cloudproviderConfig').cloudProviderBackoffRetries,' CLOUDPROVIDER_BACKOFF_EXPONENT=',parameters('cloudproviderConfig').cloudProviderBackoffExponent,' CLOUDPROVIDER_BACKOFF_DURATION=',parameters('cloudproviderConfig').cloudProviderBackoffDuration,' CLOUDPROVIDER_BACKOFF_JITTER=',parameters('cloudproviderConfig').cloudProviderBackoffJitter,' CLOUDPROVIDER_RATELIMIT=',toLower(string(parameters('cloudproviderConfig').cloudProviderRatelimit)),' CLOUDPROVIDER_RATELIMIT_QPS=',parameters('cloudproviderConfig').cloudProviderRatelimitQPS,' CLOUDPROVIDER_RATELIMIT_QPS_WRITE=',parameters('cloudproviderConfig').cloudProviderRatelimitQPSWrite,' CLOUDPROVIDER_RATELIMIT_BUCKET=',parameters('cloudproviderConfig').cloudProviderRatelimitBucket,' CLOUDPROVIDER_RATELIMIT_BUCKET_WRITE=',parameters('cloudproviderConfig').cloudProviderRatelimitBucketWrite,' LOAD_BALANCER_DISABLE_OUTBOUND_SNAT=',toLower(string(parameters('cloudproviderConfig').cloudProviderDisableOutboundSNAT)),' USE_MANAGED_IDENTITY_EXTENSION=',variables('useManagedIdentityExtension'),' USE_INSTANCE_METADATA=',variables('useInstanceMetadata'),' LOAD_BALANCER_SKU=',variables('loadBalancerSku'),' EXCLUDE_MASTER_FROM_STANDARD_LB=',variables('excludeMasterFromStandardLB'),' MAXIMUM_LOADBALANCER_RULE_COUNT=',variables('maximumLoadBalancerRuleCount'),' CONTAINER_RUNTIME=',parameters('containerRuntime'),' CONTAINERD_DOWNLOAD_URL_BASE=',parameters('containerdDownloadURLBase'),' POD_INFRA_CONTAINER_SPEC=',parameters('kubernetesPodInfraContainerSpec'),' KMS_PROVIDER_VAULT_NAME=',variables('clusterKeyVaultName'),' IS_HOSTED_MASTER=false IS_IPV6_DUALSTACK_FEATURE_ENABLED=false AUTHENTICATION_METHOD=',variables('customCloudAuthenticationMethod'),' IDENTITY_SYSTEM=',variables('customCloudIdentifySystem'),' NETWORK_API_VERSION=',variables('apiVersionNetwork'),' NETWORK_MODE=',parameters('networkMode'),' KUBE_BINARY_URL=',parameters('kubeBinaryURL'))]",
        "provisionScriptParametersMaster": "[concat('COSMOS_URI= MASTER_VM_NAME=',variables('masterVMNames')[variables('masterOffset')],' ETCD_PEER_URL=',variables('masterEtcdPeerURLs')[variables('masterOffset')],' ETCD_CLIENT_URL=',variables('masterEtcdClientURLs')[variables('masterOffset')],' MASTER_NODE=true NO_OUTBOUND=false AUDITD_ENABLED=false CLUSTER_AUTOSCALER_ADDON=false ACI_CONNECTOR_ADDON=',parameters('kubernetesACIConnectorEnabled'),' APISERVER_PRIVATE_KEY=',parameters('apiServerPrivateKey'),' CA_CERTIFICATE=',parameters('caCertificate'),' CA_PRIVATE_KEY=',parameters('caPrivateKey'),' MASTER_FQDN=',variables('masterFqdnPrefix'),' KUBECONFIG_CERTIFICATE=',parameters('kubeConfigCertificate'),' KUBECONFIG_KEY=',parameters('kubeConfigPrivateKey'),' ETCD_SERVER_CERTIFICATE=',parameters('etcdServerCertificate'),' ETCD_CLIENT_CERTIFICATE=',parameters('etcdClientCertificate'),' ETCD_SERVER_PRIVATE_KEY=',parameters('etcdServerPrivateKey'),' ETCD_CLIENT_PRIVATE_KEY=',parameters('etcdClientPrivateKey'),' ETCD_PEER_CERTIFICATES=',string(variables('etcdPeerCertificates')),' ETCD_PEER_PRIVATE_KEYS=',string(variables('etcdPeerPrivateKeys')),' ENABLE_AGGREGATED_APIS=',string(parameters('enableAggregatedAPIs')),' KUBECONFIG_SERVER=',variables('kubeconfigServer'))]",
        "readerRoleDefinitionId": "[concat('/subscriptions/', subscription().subscriptionId, '/providers/Microsoft.Authorization/roleDefinitions/', 'acdd72a7-3385-48ef-bd42-f606fba81ae7')]",
        "resourceGroup": "[resourceGroup().name]",
        "routeTableID": "[resourceId('Microsoft.Network/routeTables', variables('routeTableName'))]",
        "routeTableName": "[concat(variables('masterVMNamePrefix'),'routetable')]",
        "scope": "[resourceGroup().id]",
        "servicePrincipalClientId": "[parameters('servicePrincipalClientId')]",
        "servicePrincipalClientSecret": "[parameters('servicePrincipalClientSecret')]",
        "singleQuote": "'",
        "sshKeyPath": "[concat('/home/',parameters('linuxAdminUsername'),'/.ssh/authorized_keys')]",
        "sshNatPorts": [
            22,
            2201,
            2202,
            2203,
            2204
        ],
        "storageAccountBaseName": "",
        "storageAccountPrefixes": [],
        "subnetName": "[concat(parameters('orchestratorName'), '-subnet')]",
        "subnetNameResourceSegmentIndex": 10,
        "subscriptionId": "[subscription().subscriptionId]",
        "tenantId": "[subscription().tenantId]",
        "truncatedResourceGroup": "[take(replace(replace(resourceGroup().name, '(', '-'), ')', '-'), 63)]",
        "useInstanceMetadata": "true",
        "useManagedIdentityExtension": "false",
        "userAssignedClientID": "",
        "userAssignedID": "",
        "userAssignedIDReference": "[resourceId('Microsoft.ManagedIdentity/userAssignedIdentities/', variables('userAssignedID'))]",
        "virtualNetworkName": "[concat(parameters('orchestratorName'), '-vnet-', parameters('nameSuffix'))]",
        "virtualNetworkResourceGroupName": "''",
        "vmSizesMap": {
            "Standard_A0": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A1": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A10": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A11": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A1_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A2_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A2m_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A4_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A4m_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A5": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A6": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A7": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A8": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A8_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A8m_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_A9": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_B12ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_B16ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_B1ls": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_B1ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_B1s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_B20ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_B2ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_B2s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_B4ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_B8ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D1": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D11": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D11_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D11_v2_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D12": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D12_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D12_v2_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D13": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D13_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D13_v2_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D14": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D14_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D14_v2_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D15_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D16_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D16a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D16a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D16as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D16as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D16s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D1_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D2_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D2_v2_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D2_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D2a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D2a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D2as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D2as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D2s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D32_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D32a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D32a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D32as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D32as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D32s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D3_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D3_v2_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D48_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D48a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D48a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D48as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D48as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D48s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D4_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D4_v2_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D4_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D4a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D4a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D4as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D4as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D4s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D5_v2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D5_v2_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D64_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D64a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D64a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D64as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D64as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D64s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D8_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D8a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D8a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D8as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D8as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D8s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D96a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D96a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_D96as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_D96as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DC2s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DC4s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DC8s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS1": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS11": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS11-1_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS11_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS11_v2_Promo": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS12": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS12-1_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS12-2_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS12_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS12_v2_Promo": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS13": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS13-2_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS13-4_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS13_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS13_v2_Promo": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS14": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS14-4_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS14-8_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS14_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS14_v2_Promo": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS15_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS1_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS2_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS2_v2_Promo": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS3_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS3_v2_Promo": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS4_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS4_v2_Promo": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS5_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_DS5_v2_Promo": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E16-4s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E16-8s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E16_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E16a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E16a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E16as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E16as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E16s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E20_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E20a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E20as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E20s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E2_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E2a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E2a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E2as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E2as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E2s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E32-16s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E32-8s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E32_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E32a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E32a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E32as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E32as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E32s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E4-2s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E48_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E48a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E48a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E48as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E48as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E48s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E4_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E4a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E4a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E4as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E4as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E4s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E64-16s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E64-32s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E64_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E64a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E64a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E64as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E64as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E64i_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E64is_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E64s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E8-2s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E8-4s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E8_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E8a_v3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E8a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E8as_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E8as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E8s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_E96a_v4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_E96as_v4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F1": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_F16": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_F16s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F16s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F1s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_F2s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F2s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F32s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_F48s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F4s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F4s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F64s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F72s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F8": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_F8s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_F8s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_G1": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_G2": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_G3": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_G4": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_G5": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_GS1": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_GS2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_GS3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_GS4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_GS4-4": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_GS4-8": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_GS5": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_GS5-16": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_GS5-8": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_H16": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H16_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H16m": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H16m_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H16mr": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H16mr_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H16r": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H16r_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H8": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H8_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H8m": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_H8m_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_HB120rs_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_HB60rs": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_HC44rs": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_L16s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_L16s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_L32s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_L32s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_L48s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_L4s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_L64s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_L80s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_L8s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_L8s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M128": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_M128-32ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M128-64ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M128m": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_M128ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M128s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M16-4ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M16-8ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M16ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M208ms_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M208s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M32-16ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M32-8ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M32ls": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M32ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M32ts": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M416ms_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M416s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M64": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_M64-16ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M64-32ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M64ls": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M64m": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_M64ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M64s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M8-2ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M8-4ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_M8ms": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NC12": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NC12_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NC12s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NC12s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NC24": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NC24_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NC24r": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NC24r_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NC24rs_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NC24rs_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NC24s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NC24s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NC6": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NC6_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NC6s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NC6s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_ND12s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_ND24rs": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_ND24s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_ND40rs_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_ND40s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_ND6s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NP10s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NP20s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NP40s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NV12": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NV12_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NV12s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NV12s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NV24": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NV24_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NV24s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NV24s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NV48s_v3": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_NV6": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NV6_Promo": {
                "storageAccountType": "Standard_LRS"
            },
            "Standard_NV6s_v2": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_PB12s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_PB24s": {
                "storageAccountType": "Premium_LRS"
            },
            "Standard_PB6s": {
                "storageAccountType": "Premium_LRS"
            }
        },
        "vmType": "vmss",
        "vnetID": "[resourceId('Microsoft.Network/virtualNetworks',variables('virtualNetworkName'))]",
        "vnetNameResourceSegmentIndex": 8,
        "vnetResourceGroupNameResourceSegmentIndex": 4,
        "vnetSubnetID": "[concat(variables('vnetID'),'/subnets/',variables('subnetName'))]"
    },
    "resources": [
        {
            "type": "Microsoft.Network/publicIPAddresses",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[variables('agentPublicIPAddressName')]",
            "location": "[variables('location')]",
            "sku": {
                "name": "[variables('loadBalancerSku')]"
            },
            "properties": {
                "publicIPAllocationMethod": "Static"
            }
        },
        {
            "type": "Microsoft.Network/loadBalancers",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[variables('agentLbName')]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[concat('Microsoft.Network/publicIPAddresses/', variables('agentPublicIPAddressName'))]"
            ],
            "sku": {
                "name": "[variables('loadBalancerSku')]"
            },
            "properties": {
                "backendAddressPools": [
                    {
                        "name": "[variables('agentLbBackendPoolName')]"
                    }
                ],
                "frontendIPConfigurations": [
                    {
                        "name": "[variables('agentLbIPConfigName')]",
                        "properties": {
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIpAddresses',variables('agentPublicIPAddressName'))]"
                            }
                        }
                    }
                ],
                "outboundRules": [
                    {
                        "name": "LBOutboundRule",
                        "properties": {
                            "backendAddressPool": {
                                "id": "[concat(variables('agentLbID'), '/backendAddressPools/', variables('agentLbBackendPoolName'))]"
                            },
                            "enableTcpReset": true,
                            "frontendIPConfigurations": [
                                {
                                    "id": "[variables('agentLbIPConfigID')]"
                                }
                            ],
                            "idleTimeoutInMinutes": 30,
                            "protocol": "All"
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachineScaleSets",
            "apiVersion": "[variables('apiVersionCompute')]",
            "name": "[variables('agentpool1VMNamePrefix')]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[variables('vnetID')]",
                "[variables('agentLbID')]"
            ],
            "tags": {
                "aksEngineVersion": "[parameters('aksEngineVersion')]",
                "creationSource": "[concat(parameters('generatorCode'), '-', variables('agentpool1VMNamePrefix'))]",
                "orchestrator": "[variables('orchestratorNameVersionTag')]",
                "poolName": "agentpool1",
                "resourceNameSuffix": "[parameters('nameSuffix')]"
            },
            "sku": {
                "capacity": 2,
                "name": "[variables('agentpool1VMSize')]",
                "tier": "Standard"
            },
            "properties": {
                "overprovision": false,
                "singlePlacementGroup": true,
                "upgradePolicy": {
                    "mode": "Manual"
                },
                "virtualMachineProfile": {
                    "extensionProfile": {
                        "extensions": [
                            {
                                "name": "vmssCSE",
                                "properties": {
                                    "autoUpgradeMinorVersion": true,
                                    "protectedSettings": {
                                        "commandToExecute": "[concat('echo $(date),$(hostname);  for i in $(seq 1 1200); do grep -Fq \"EOF\" /opt/azure/containers/provision.sh && break; if [ $i -eq 1200 ]; then exit 100; else sleep 1; fi; done; ', variables('provisionScriptParametersCommon'),' USER_ASSIGNED_IDENTITY_ID=',' ',' IS_VHD=true GPU_NODE=false SGX_NODE=false AUDITD_ENABLED=false /usr/bin/nohup /bin/bash -c \"/bin/bash /opt/azure/containers/provision.sh >> /var/log/azure/cluster-provision.log 2>&1\"')]"
                                    },
                                    "publisher": "Microsoft.Azure.Extensions",
                                    "settings": {},
                                    "type": "CustomScript",
                                    "typeHandlerVersion": "2.0"
                                }
                            },
                            {
                                "name": "[concat(variables('agentpool1VMNamePrefix'), '-computeAksLinuxBilling')]",
                                "properties": {
                                    "autoUpgradeMinorVersion": true,
                                    "publisher": "Microsoft.AKS",
                                    "settings": {},
                                    "type": "Compute.AKS-Engine.Linux.Billing",
                                    "typeHandlerVersion": "1.0"
                                }
                            }
                        ]
                    },
                    "networkProfile": {
                        "networkInterfaceConfigurations": [
                            {
                                "name": "[variables('agentpool1VMNamePrefix')]",
                                "properties": {
                                    "enableAcceleratedNetworking": false,
                                    "ipConfigurations": [
                                        {
                                            "name": "ipconfig1",
                                            "properties": {
                                                "loadBalancerBackendAddressPools": [
                                                    {
                                                        "id": "[concat(variables('agentLbID'), '/backendAddressPools/', variables('agentLbBackendPoolName'))]"
                                                    }
                                                ],
                                                "primary": true,
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig2",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig3",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig4",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig5",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig6",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig7",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig8",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig9",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig10",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig11",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig12",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig13",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig14",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig15",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig16",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig17",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig18",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig19",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig20",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig21",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig22",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig23",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig24",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig25",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig26",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig27",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig28",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig29",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig30",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ipconfig31",
                                            "properties": {
                                                "subnet": {
                                                    "id": "[variables('agentpool1VnetSubnetID')]"
                                                }
                                            }
                                        }
                                    ],
                                    "primary": true
                                }
                            }
                        ]
                    },
                    "osProfile": {
                        "adminUsername": "[parameters('linuxAdminUsername')]",
                        "computerNamePrefix": "[variables('agentpool1VMNamePrefix')]",
                        "customData": "[base64(concat('#cloud-config\n\nwrite_files:\n- path: /opt/azure/containers/provision_source.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').provisionSource,'\n\n- path: /opt/azure/containers/provision.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').provisionScript,'\n\n- path: /opt/azure/containers/provision_installs.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').provisionInstalls,'\n\n- path: /opt/azure/containers/provision_configs.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').provisionConfigs,'\n\n\n\n\n\n\n\n- path: /etc/systemd/system/kubelet.service\n  permissions: \"0644\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').kubeletSystemdService,'\n\n\n\n\n\n\n    \n        \n    \n\n- path: /etc/systemd/system/docker.service.d/exec_start.conf\n  permissions: \"0644\"\n  owner: root\n  content: |\n    [Service]\n    ExecStart=\n    \n    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=',parameters('dockerBridgeCidr'),'\n    \n    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT\n    #EOF\n\n- path: /etc/docker/daemon.json\n  permissions: \"0644\"\n  owner: root\n  content: |\n    {\n      \"live-restore\": true,\n      \"log-driver\": \"json-file\",\n      \"log-opts\":  {\n         \"max-size\": \"50m\",\n         \"max-file\": \"5\"\n      }\n    }\n\n\n\n\n\n\n\n\n- path: /etc/kubernetes/certs/ca.crt\n  permissions: \"0644\"\n  encoding: base64\n  owner: root\n  content: |\n    ',parameters('caCertificate'),'\n\n- path: /etc/kubernetes/certs/client.crt\n  permissions: \"0644\"\n  encoding: base64\n  owner: root\n  content: |\n    ',parameters('clientCertificate'),'\n\n\n\n- path: /var/lib/kubelet/kubeconfig\n  permissions: \"0644\"\n  owner: root\n  content: |\n    apiVersion: v1\n    kind: Config\n    clusters:\n    - name: localcluster\n      cluster:\n        certificate-authority: /etc/kubernetes/certs/ca.crt\n        server: https://',variables('kubernetesAPIServerIP'),':443\n    users:\n    - name: client\n      user:\n        client-certificate: /etc/kubernetes/certs/client.crt\n        client-key: /etc/kubernetes/certs/client.key\n    contexts:\n    - context:\n        cluster: localcluster\n        user: client\n      name: localclustercontext\n    current-context: localclustercontext\n    #EOF\n\n- path: /etc/default/kubelet\n  permissions: \"0644\"\n  owner: root\n  content: |\n    KUBELET_CONFIG=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true --image-gc-high-threshold=85 --image-gc-low-threshold=80 --image-pull-progress-deadline=30m --keep-terminated-pod-volumes=false --kubeconfig=/var/lib/kubelet/kubeconfig --max-pods=30 --network-plugin=cni --node-status-update-frequency=10s --non-masquerade-cidr=0.0.0.0/0 --pod-infra-container-image=mcr.microsoft.com/k8s/core/pause:1.2.0 --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=0 --rotate-certificates=true --streaming-connection-idle-timeout=4h --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key \n    KUBELET_IMAGE=k8s.gcr.io/hyperkube-amd64:v1.16.6\n    KUBELET_REGISTER_SCHEDULABLE=true\n\n    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agentpool1,storageprofile=managed,storagetier=Standard_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'\n\n\n    #EOF\n\n- path: /opt/azure/containers/kubelet.sh\n  permissions: \"0755\"\n  owner: root\n  content: |\n    #!/bin/bash\n\n    #EOF\n\n\n\n\nruncmd:\n- set -x\n- . /opt/azure/containers/provision_source.sh\n- aptmarkWALinuxAgent hold\n\n'))]",
                        "linuxConfiguration": {
                            "disablePasswordAuthentication": true,
                            "ssh": {
                                "publicKeys": [
                                    {
                                        "keyData": "[parameters('sshRSAPublicKey')]",
                                        "path": "[variables('sshKeyPath')]"
                                    }
                                ]
                            }
                        }
                    },
                    "storageProfile": {
                        "dataDisks": null,
                        "imageReference": {
                            "offer": "[variables('agentpool1osImageOffer')]",
                            "publisher": "[variables('agentpool1osImagePublisher')]",
                            "sku": "[variables('agentpool1osImageSKU')]",
                            "version": "[variables('agentpool1osImageVersion')]"
                        },
                        "osDisk": {
                            "caching": "ReadWrite",
                            "createOption": "FromImage"
                        }
                    }
                }
            }
        },
        {
            "type": "Microsoft.Compute/availabilitySets",
            "apiVersion": "[variables('apiVersionCompute')]",
            "name": "[variables('masterAvailabilitySet')]",
            "location": "[variables('location')]",
            "sku": {
                "name": "Aligned"
            },
            "properties": {
                "platformFaultDomainCount": "[if(contains(split('canadacentral,centralus,eastus,eastus2,northcentralus,northeurope,southcentralus,westeurope,westus',','),variables('location')),3,if(equals('centraluseuap',variables('location')),1,2))]",
                "platformUpdateDomainCount": 3
            }
        },
        {
            "type": "Microsoft.Network/virtualNetworks",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[variables('virtualNetworkName')]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[concat('Microsoft.Network/networkSecurityGroups/', variables('nsgName'))]"
            ],
            "properties": {
                "addressSpace": {
                    "addressPrefixes": [
                        "[parameters('vnetCidr')]"
                    ]
                },
                "subnets": [
                    {
                        "name": "[variables('subnetName')]",
                        "properties": {
                            "addressPrefix": "[parameters('masterSubnet')]",
                            "networkSecurityGroup": {
                                "id": "[variables('nsgID')]"
                            }
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[variables('nsgName')]",
            "location": "[variables('location')]",
            "properties": {
                "securityRules": [
                    {
                        "name": "allow_ssh",
                        "properties": {
                            "access": "Allow",
                            "description": "Allow SSH traffic to master",
                            "destinationAddressPrefix": "*",
                            "destinationPortRange": "22-22",
                            "direction": "Inbound",
                            "priority": 101,
                            "protocol": "Tcp",
                            "sourceAddressPrefix": "*",
                            "sourcePortRange": "*"
                        }
                    },
                    {
                        "name": "allow_kube_tls",
                        "properties": {
                            "access": "Allow",
                            "description": "Allow kube-apiserver (tls) traffic to master",
                            "destinationAddressPrefix": "*",
                            "destinationPortRange": "443-443",
                            "direction": "Inbound",
                            "priority": 100,
                            "protocol": "Tcp",
                            "sourceAddressPrefix": "VirtualNetwork",
                            "sourcePortRange": "*"
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines",
            "apiVersion": "[variables('apiVersionCompute')]",
            "name": "[parameters('jumpboxVMName')]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[concat('Microsoft.Network/networkInterfaces/', variables('jumpboxNetworkInterfaceName'))]"
            ],
            "properties": {
                "hardwareProfile": {
                    "vmSize": "[parameters('jumpboxVMSize')]"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', variables('jumpboxNetworkInterfaceName'))]"
                        }
                    ]
                },
                "osProfile": {
                    "adminUsername": "[parameters('jumpboxUsername')]",
                    "computerName": "[parameters('jumpboxVMName')]",
                    "customData": "[base64(concat('#cloud-config\n\nwrite_files:\n\n- path: /opt/azure/containers/provision_source.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    ',variables('cloudInitFiles').provisionSource,'\n\n- path: \"/home/',parameters('jumpboxUsername'),'/.kube/config\"\n  permissions: \"0644\"\n  owner: \"',parameters('jumpboxUsername'),'\"\n  content: |\n',variables('kubeconfig'),'\n\nruncmd:\n- . /opt/azure/containers/provision_source.sh\n- retrycmd_if_failure 10 5 10 curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.16.6/bin/linux/amd64/kubectl\n- chmod +x ./kubectl\n- sudo mv ./kubectl /usr/local/bin/kubectl\n- chown -R \"',parameters('jumpboxUsername'),'\" \"/home/',parameters('jumpboxUsername'),'\"\n- chgrp -R \"',parameters('jumpboxUsername'),'\" \"/home/',parameters('jumpboxUsername'),'\"\n- chown -R root \"/home/',parameters('jumpboxUsername'),'/.kube\"\n- chgrp -R root \"/home/',parameters('jumpboxUsername'),'/.kube\"\n'))]",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "keyData": "[parameters('jumpboxPublicKey')]",
                                    "path": "[concat('/home/', parameters('jumpboxUsername'), '/.ssh/authorized_keys')]"
                                }
                            ]
                        }
                    }
                },
                "storageProfile": {
                    "dataDisks": [],
                    "imageReference": {
                        "offer": "UbuntuServer",
                        "publisher": "Canonical",
                        "sku": "16.04-LTS",
                        "version": "latest"
                    },
                    "osDisk": {
                        "createOption": "FromImage",
                        "diskSizeGB": 30,
                        "managedDisk": {
                            "storageAccountType": "[variables('vmSizesMap')[parameters('jumpboxVMSize')].storageAccountType]"
                        }
                    }
                }
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[variables('jumpboxNetworkSecurityGroupName')]",
            "location": "[variables('location')]",
            "properties": {
                "securityRules": [
                    {
                        "name": "default-allow-ssh",
                        "properties": {
                            "access": "Allow",
                            "destinationAddressPrefix": "*",
                            "destinationPortRange": "22",
                            "direction": "Inbound",
                            "priority": 1000,
                            "protocol": "Tcp",
                            "sourceAddressPrefix": "*",
                            "sourcePortRange": "*"
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[variables('jumpboxNetworkInterfaceName')]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[concat('Microsoft.Network/publicIpAddresses/', variables('jumpboxPublicIpAddressName'))]",
                "[concat('Microsoft.Network/networkSecurityGroups/', variables('jumpboxNetworkSecurityGroupName'))]",
                "[variables('vnetID')]"
            ],
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "primary": true,
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIpAddresses', variables('jumpboxPublicIpAddressName'))]"
                            },
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    }
                ],
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', variables('jumpboxNetworkSecurityGroupName'))]"
                }
            }
        },
        {
            "type": "Microsoft.Network/publicIPAddresses",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[variables('jumpboxPublicIpAddressName')]",
            "location": "[variables('location')]",
            "sku": {
                "name": "Basic"
            },
            "properties": {
                "dnsSettings": {
                    "domainNameLabel": "[variables('masterFqdnPrefix')]"
                },
                "publicIPAllocationMethod": "Dynamic"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[concat(variables('masterVMNamePrefix'), 'nic-', copyIndex(variables('masterOffset')))]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[variables('vnetID')]",
                "[variables('masterInternalLbName')]",
                "[variables('masterLbName')]"
            ],
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "loadBalancerBackendAddressPools": [
                                {
                                    "id": "[concat(variables('masterInternalLbID'), '/backendAddressPools/', variables('masterLbBackendPoolName'))]"
                                },
                                {
                                    "id": "[concat(variables('masterLbID'), '/backendAddressPools/', variables('masterLbBackendPoolName'))]"
                                }
                            ],
                            "loadBalancerInboundNatRules": [],
                            "primary": true,
                            "privateIPAddress": "[variables('masterPrivateIpAddrs')[copyIndex(variables('masterOffset'))]]",
                            "privateIPAllocationMethod": "Static",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig2",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig3",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig4",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig5",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig6",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig7",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig8",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig9",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig10",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig11",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig12",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig13",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig14",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig15",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig16",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig17",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig18",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig19",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig20",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig21",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig22",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig23",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig24",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig25",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig26",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig27",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig28",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig29",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig30",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    },
                    {
                        "name": "ipconfig31",
                        "properties": {
                            "primary": false,
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    }
                ]
            },
            "copy": {
                "name": "nicLoopNode",
                "count": "[sub(variables('masterCount'), variables('masterOffset'))]"
            }
        },
        {
            "type": "Microsoft.Network/publicIPAddresses",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[variables('masterPublicIPAddressName')]",
            "location": "[variables('location')]",
            "sku": {
                "name": "[variables('loadBalancerSku')]"
            },
            "properties": {
                "publicIPAllocationMethod": "Static"
            }
        },
        {
            "type": "Microsoft.Network/loadBalancers",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[variables('masterLbName')]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[concat('Microsoft.Network/publicIPAddresses/', variables('masterPublicIPAddressName'))]"
            ],
            "sku": {
                "name": "[variables('loadBalancerSku')]"
            },
            "properties": {
                "backendAddressPools": [
                    {
                        "name": "[variables('masterLbBackendPoolName')]"
                    }
                ],
                "frontendIPConfigurations": [
                    {
                        "name": "[variables('masterLbIPConfigName')]",
                        "properties": {
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIpAddresses',variables('masterPublicIPAddressName'))]"
                            }
                        }
                    }
                ],
                "outboundRules": [
                    {
                        "name": "LBOutboundRule",
                        "properties": {
                            "backendAddressPool": {
                                "id": "[concat(variables('masterLbID'), '/backendAddressPools/', variables('masterLbBackendPoolName'))]"
                            },
                            "enableTcpReset": true,
                            "frontendIPConfigurations": [
                                {
                                    "id": "[variables('masterLbIPConfigID')]"
                                }
                            ],
                            "idleTimeoutInMinutes": 30,
                            "protocol": "All"
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/loadBalancers",
            "apiVersion": "[variables('apiVersionNetwork')]",
            "name": "[variables('masterInternalLbName')]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[variables('vnetID')]"
            ],
            "sku": {
                "name": "[variables('loadBalancerSku')]"
            },
            "properties": {
                "backendAddressPools": [
                    {
                        "name": "[variables('masterLbBackendPoolName')]"
                    }
                ],
                "frontendIPConfigurations": [
                    {
                        "name": "[variables('masterInternalLbIPConfigName')]",
                        "properties": {
                            "privateIPAddress": "[variables('kubernetesAPIServerIP')]",
                            "privateIPAllocationMethod": "Static",
                            "subnet": {
                                "id": "[variables('vnetSubnetID')]"
                            }
                        }
                    }
                ],
                "loadBalancingRules": [
                    {
                        "name": "InternalLBRuleHTTPS",
                        "properties": {
                            "backendAddressPool": {
                                "id": "[concat(variables('masterInternalLbID'), '/backendAddressPools/', variables('masterLbBackendPoolName'))]"
                            },
                            "backendPort": 4443,
                            "enableFloatingIP": false,
                            "frontendIPConfiguration": {
                                "id": "[variables('masterInternalLbIPConfigID')]"
                            },
                            "frontendPort": 443,
                            "idleTimeoutInMinutes": 5,
                            "probe": {
                                "id": "[concat(variables('masterInternalLbID'),'/probes/tcpHTTPSProbe')]"
                            },
                            "protocol": "Tcp"
                        }
                    },
                    {
                        "name": "LBRuleUDP",
                        "properties": {
                            "backendAddressPool": {
                                "id": "[concat(variables('masterInternalLbID'), '/backendAddressPools/', variables('masterLbBackendPoolName'))]"
                            },
                            "backendPort": 1123,
                            "enableFloatingIP": false,
                            "frontendIPConfiguration": {
                                "id": "[variables('masterInternalLbIPConfigID')]"
                            },
                            "frontendPort": 1123,
                            "idleTimeoutInMinutes": 5,
                            "probe": {
                                "id": "[concat(variables('masterInternalLbID'),'/probes/tcpHTTPSProbe')]"
                            },
                            "protocol": "Udp"
                        }
                    }
                ],
                "probes": [
                    {
                        "name": "tcpHTTPSProbe",
                        "properties": {
                            "intervalInSeconds": 5,
                            "numberOfProbes": 2,
                            "port": 4443,
                            "protocol": "Tcp"
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines",
            "apiVersion": "[variables('apiVersionCompute')]",
            "name": "[concat(variables('masterVMNamePrefix'), copyIndex(variables('masterOffset')))]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[concat('Microsoft.Network/networkInterfaces/', variables('masterVMNamePrefix'), 'nic-', copyIndex(variables('masterOffset')))]",
                "[concat('Microsoft.Compute/availabilitySets/',variables('masterAvailabilitySet'))]"
            ],
            "tags": {
                "aksEngineVersion": "[parameters('aksEngineVersion')]",
                "creationSource": "[concat(parameters('generatorCode'), '-', variables('masterVMNamePrefix'), copyIndex(variables('masterOffset')))]",
                "orchestrator": "[variables('orchestratorNameVersionTag')]",
                "poolName": "master",
                "resourceNameSuffix": "[parameters('nameSuffix')]"
            },
            "properties": {
                "availabilitySet": {
                    "id": "[resourceId('Microsoft.Compute/availabilitySets',variables('masterAvailabilitySet'))]"
                },
                "hardwareProfile": {
                    "vmSize": "Standard_D2_v3"
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces',concat(variables('masterVMNamePrefix'),'nic-', copyIndex(variables('masterOffset'))))]"
                        }
                    ]
                },
                "osProfile": {
                    "adminUsername": "[parameters('linuxAdminUsername')]",
                    "computerName": "[concat(variables('masterVMNamePrefix'), copyIndex(variables('masterOffset')))]",
                    "customData": "[base64(concat('#cloud-config\n\nwrite_files:\n- path: /opt/azure/containers/provision_source.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').provisionSource,'\n\n- path: /opt/azure/containers/provision.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').provisionScript,'\n\n- path: /opt/azure/containers/provision_installs.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').provisionInstalls,'\n\n- path: /opt/azure/containers/provision_configs.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').provisionConfigs,'\n\n\n\n\n\n\n\n- path: /etc/systemd/system/kubelet.service\n  permissions: \"0644\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').kubeletSystemdService,'\n\n\n\n\n\n\n    \n        \n    \n\n- path: /etc/systemd/system/docker.service.d/exec_start.conf\n  permissions: \"0644\"\n  owner: root\n  content: |\n    [Service]\n    ExecStart=\n    \n    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=',parameters('dockerBridgeCidr'),'\n    \n    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT\n    #EOF\n\n- path: /etc/docker/daemon.json\n  permissions: \"0644\"\n  owner: root\n  content: |\n    {\n      \"live-restore\": true,\n      \"log-driver\": \"json-file\",\n      \"log-opts\":  {\n         \"max-size\": \"50m\",\n         \"max-file\": \"5\"\n      }\n    }\n\n\n\n\n\n\n- path: /etc/kubernetes/certs/ca.crt\n  permissions: \"0644\"\n  encoding: base64\n  owner: root\n  content: |\n    ',parameters('caCertificate'),'\n\n- path: /etc/kubernetes/certs/client.crt\n  permissions: \"0644\"\n  encoding: \"base64\"\n  owner: \"root\"\n  content: |\n    ',parameters('clientCertificate'),'\n\n\n- path: /etc/kubernetes/generate-proxy-certs.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').generateProxyCertsScript,'\n\n\n\n\n- path: /var/lib/kubelet/kubeconfig\n  permissions: \"0644\"\n  owner: root\n  content: |\n    apiVersion: v1\n    kind: Config\n    clusters:\n    - name: localcluster\n      cluster:\n        certificate-authority: /etc/kubernetes/certs/ca.crt\n      \n        server: ',concat('https://', variables('masterPrivateIpAddrs')[copyIndex(variables('masterOffset'))], ':443'),'\n      \n    users:\n    - name: client\n      user:\n        client-certificate: /etc/kubernetes/certs/client.crt\n        client-key: /etc/kubernetes/certs/client.key\n    contexts:\n    - context:\n        cluster: localcluster\n        user: client\n      name: localclustercontext\n    current-context: localclustercontext\n    #EOF\n\n\n\n\n\n- path: /etc/kubernetes/manifests/kube-scheduler.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/4RSzY7aMBC+8xQW55qIqkJVJE497WEpUqVeqh4Gewgj7HE0nmSVt68c0ixdoPg48/3NJ0NLP1EyJa5Nv16ciX1t9skvIip4UKgXxjBErM25O6DN7oS+CyjTOLfg5t2QFePCmAAHDLkwjVFCqY1LrJKCbQMwjnOXYpsYWW+Ec4uucFuhJKTDtwA578YIFwfLyaN1QkoOwsKYU8q6Q31Lcq6NSlcciiMQo0w57KMryqMITdl9zavGyYpSdRpalBEL0W++1P16td6sNtf4fRfCPgVyQ21ejruke8GMrBPGpRihtPlr+a62/GSW/yZY/p7wIE0uYGsLwCU+UrOtepAq0KEqs4Bave+KlLUBwaNYDOh0W06/jFtJRwrEzfYIIU/Dfvt5dutT6CK+po51Kui6JFQ3phBGxTyvjYmFsAc91aZCddUd0F+NHsQGOtgp+QORD/fdqMRMT5hvAA2yVq/A0KB/8chKOtgfqErcXKcXBP+dwzB/kksLH37I3ePLFxuNZ7n2YQv/b+Ch0r0qbmt4Sn/ax58AAAD//1HHrDDzAwAA\n\n- path: /etc/kubernetes/manifests/kube-controller-manager.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/4xUTW/rRgy8+1csciyylp3mBYUAnR56CNCXGgjQS9EDvUvLrFdLgUspVX59sbL8kTiu65MhcobDIZfQ0h8oiTiWpl/OdhR9aVbsZw0qeFAoZ8ZEaLA0u26N1nFU4RBQbAMRapQpnlpwh6Q0JMVmZkyANYaUKYxRQinNhLdtgIjjd8dNyxGjXq+QWnSZpBViIR2+B0jpZRS1L2Uje7ROSMlBmBmz5aQvqG8su9KodLlUJgaKKJMge7Ov/KMG6pz0S5rXTubExXZoUUYQNP7pseyX8+XT/Ok8f9WFsOJAbijN8+aFdSWYMOqU47hpIBv9592J7e7e3F2RcvfXBASpU0ZZCyGwA8Wpc/KSqg2ENNJY6wJ3PjNtqK4KVFdkaomomAp47wTnfyeO58mtcE8epRrDh0iXFGXkr5aL+cPjYr6YL4rlw8d4NrI6VbBvmLRLD/bb8vHpU2qiOlKsrUNRu6GAF/JyJBUO5k70a+wOhxvQHQ4TdLSgE5y6FO4UP1p1tDtVP92vmTWpQJtrodwr7zC6gBBR9vkbBM18NWSi39hBeFUWqPE7tOBIh+fEAZQ4Vnnz7l9RenL4wh5//Se3cojs+bYs9J5XM9iWvYVOOTnI03dtZymSEgR6Hwlti0Lsq58X6RbY81sc/9qksKYDwwmabTssSA9SBFqPVgbU4hTb5wYEj2IxoNMz6ePuNRxJWWwt4PAg8PFQJavCntyoXqlB7rT61hzDwhsKFOvziQizWgf/dzvGkVrJgh0F+mDU8lAo7YdgwTnuotpWqM/P58YqQUsZiXLaKEVpKIKiH5urndWtYNpy8NW3xWKxz+oSXtR0gh5jHmc6M7GvHo7vu+fQNfgjZ09H6vxQoTp7UngMG9NkwAp0W5pPbVxw9CA20NpOk75C8mkfLliaRDeQbwA1Ri1+jBfMP4+N62BfUZVifa5eEPzvMQzHQ7134dOV/rL5fObHwke69qoL/+3AVaavrLi04Sb8ph//BgAA//8csvjfiQcAAA==\n\n- path: /etc/kubernetes/manifests/kube-apiserver.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/5xW/2/bthP9PX+FkJ9NK07SNB/jowGuEzQF0tSLu3bDMBhn8ixzpngaeXKj/vUDJcuWvyZYAgQI773H49MdeZDrb+i8JtuPlr2zhbaqH41InWXIoIChfxZFFjLsR4tiigJy7dEt0a2WfQ6yifnSM2ZnUWRgisYHZhSxRtePJFl2ZERuwGK1LinLyaLlPWGfowzc3GlymsuhAe+fqhTqHYQlhUI6zVqCOYuiOXl+Qv5BbtGP2BVhh7AjaItulYc4dorwozNIQ+zWd1PpuprieZmjq7GZurnuL3vd3k33po0fFcaMyGhZ9qNPsyfikUOPllcYSVkGwc0/zzdq553ofDuD879WeHCpD2AhQC3RsfYoQCmH3if/Xy8NlHK/BBUhwBj6IXKnl9pgiioJJ1+FLNkyo8ILKHiezMD4JlIozcJQKjJ4gRSTq4sDgSnIRZEnvUMxr39i0rvYC+XA8yRegosNpXE4ZBWLq79dQ2mbkFe+iZk2mMTIssI7i4w+BqXI+rgN7JaQmYbPc3L6J7AmKzJSmDyRws7zh8GwRky1VWvnLrrVbx2RRqNlIeHwxhId+1hCVzpuCFQoIcnOdLqf58/CYfdvT7YNzh0ttUKXVOE6ghamJnzNTPvQaiI3RaqtT56aDnrUM5SlNNh51JnmZ7Apus4Y3VJLHEhJheXOHc6gMDxmcpBi1RbN2lcy6CpLxijJKt/5BkYrYG3TQbPtd5zOiRadZ/RUOIm/FsTQuX9htApVs7qR6oxIjVEWoQnrQt86zpSIPTvIBdMCbV1qmxpElkpIeKPTNRodn8AHTP0Jd3gLLN9GW2DZotUN6JM5c+77cdy7fF9VS69/efX+fzVwhsCFQ5ECo0++kSkyHFvI/Zz4DhjGlWetY2vrg2UocnKc3F7crmovpGWQ1zUY2nmmJfBRd3ZOuiOwwPI0cX3W3NFMG23T9j2QO3op28mcaokKvMlki7vAI23cpq5zcfhPgZ7nCApdfYOhEtVDkhxCvKljV/m0qmlbBF/Ygaj/8SJ3ONMvye/iGTNiFPdV9BAvdVTkDW9D+BiWD+ELjy4cZZ/ym0dXM9rFcX191SxWfS6gbvTXPF2/HRtfdxUMUbjAN2XZAKQpPKMTOhcuXDJJb3VDxr2bFbK+XkR4A9CqJLTKKk82/tVa2SS3/hoVTedzdMIXOvTR18fx5H5493A/eR4PJt8/fX2YDB8Gw4fB5cVk9OXxj97VxbvOBnQ/vHsLbK01uB9Pepe3k4/Dz5Pxw+Dy3c1hsZO4LbXLdzcN6ur2+rjaUdxebsMPw4A6ndg+aC+rV3VaoM3nCFMDMP6HSlsm1+uRZVldh59Dxa2mrPakhSzFRnEdjqIsEEbA8360s+2exhKcMHraXH5HRKqhQ0/jXVSjknn9CvMHQIqW489gIUX1SaFlzaUYI4cntJ29Q1BfrCnXk+b2Xp7k4shmlO+nVk05htJT+bXHqbPG9Z2x9qDZYS6uhNbq+VHXTzt+VOmQ9fu2v0p/k/8HLD4q3Hh9xOfTCW0Z/m8AAAD//2NVMAIiDQAA\n\n- path: /etc/kubernetes/manifests/kube-addon-manager.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/4yRzW7VQAyF93kKv0BuCqIIZsuqi3uJhMTenTGpdecn2J5UeXuUuT9tgVZdjn3Omc82zvyTRLlkB8uH7sg5OBhL6BIZBjR0HUDGRA6O9Z56DKHkPmHGieTc0hn9pa+rGqUOYHmWqjP5LWcWLsK2fouoemihJ32fS6DeCxt7jB3AQ1E7kD0WOTowqdQB+JINOZPoltW/RQXACaet+0V3k5cdl+FfYY8pfP7klq+7m93HJ9dYYxxLZL86uPt1KDYKKWVrCiEtVTw1hlPhdyW16xvAz9XBbbq+E6Uiq4Pbmz234lJiTbQvNV9sl2Eanp6daROMaA8OBjLfBpBMRjq80Alh+J7jel3UU15S/k/YgjJEvh8eESfKNuzbOsJdoGxsa/+DzDhPr+af+F9c4RnQdrr20dk+vz3B36iv2N/N/CcAAP//Nell0dECAAA=\n\n\n\n\n\n- path: /etc/kubernetes/addons/audit-policy.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/5ySy07rQAyG93kKK8uj01bsUF6ADSAUBBvEwp2Y1GoyHsae0L49yqWlrQCJ7Oby+/fnCwZ+pqgsvgBMFdtye61LllV3lW3ZVwU8SMNun0nL9mhYkxYZwAJKek+kVpIj7qjKYmoOXw111BRfCg3ilTIAgEgqKbpR2WvrKCkUkOfD/VQAL3mQSvPXU887MqzQcKbZqpE6/w/jWQ0tXfjfix9Bk1IcwnSvRm2xTWtahCi7/RAA0FFcD4IPNLeZHv9GRL4Kwt60R1KKHTv6jeemNzuFwmQb8sYOjaoJwYsvpyRP5e0RZIWB/x3O3Tjxb4Y1owon/o3rFoMeCLAlDTh9D40bec9Lm59RyUUynW13vNPOyPed0B937Hztx+jL1f8MAAD//62kjQpEAwAA\n\n- path: /etc/kubernetes/addons/azure-cloud-provider-deployment.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/9SVP2/bMBDFd34KwouW0kW3QluboUv/wQG6BEFxIi8Ka4kUeEcBzqcvSLpxrQiGjcRuuhFU7vje717OSikBg/2Bgax3tQwN6CVEvvfBPgBb75br97S0/u34TqytM7W86iIxhpXvUPTIYIChFlJ20GBH6STlOjYYHDLmUl0qFGEYrcZaLjhEXAgpHfRYS9oQY1/DQwyodOejUUPwozUYRIgdUi2UhMF+Cj4OVMubxeJWSBmQfAwa8w2O6Jjy/YihyTqU1AGBMR8HYH2fT3Ew6fJ51j9aZ6xrL0HAd7jCu9T2D4MDYoWUT8d0zDMUm1+oObMuHa6L2A9a++j4sclsdflIAyRzybsqbz2T8h7eGQ9DakuMjtXou9ijaqwrek4fxmzUqmoatYpQB2SqdllLb8ibqkWu3lQlc9XtGQJ2dgK7qM2F6Lj4nSLy6NAdsPkCwWuQ4Z+sN1WypFpkPmHZbRM43XYt8v+y1abGL7LjJo9eaOMR+wAtzqftuny86oBo5l/d4B3ELikB5zxnCNtRbNvqVLlMLZf7w7GkttUq/81f0zl9otl1soOhnpQUOMbSWgwQoEfGQLsN8gUctGjEo2AocHkzYLIPzkAwPz+vroWUGvS9dW3vDdZyhWC+uW7zokD7IkcNAXsb+6dgXw+b70XixdHQdiavmc3RuZlxfpDXDJcs9M6WX8CzA8kP7QOhdfyalUxcS/k7AAD//6BnGhe+CwAA\n\n- path: /etc/kubernetes/addons/azure-cni-networkmonitor.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/5RUzW7bOBC++ykGuctKLosFb0GSxRZoHCMueqepsU2Y5KjDoWr16QvKsiLZTpryqPl+5le6tt+Ro6WgQNd1LJu72d6GSsGjRk9hhTLzKLrSotUMIGiPCvSvxFiYYIuA8pN47ylYIe4BsdYGFezTGovYRkE/A3B6jS5mDchObyI+Hr9VFQWvg94izzOVAwrGuaXSU4UKXtFQMNbhLNZoslBEh0aIj6Jei9l9HbkA7P+NxaWXoK+dFuxpo+rycxOF9zQATknkV7MlttI+OB3jomvRse4iUIWFYSvWaNejhRyyFkthsClgj62Chx54n3sRX4JrhzSozhxiBU8HGyVOiZ0Nk8PzzukoyNdEfqQhH4BGu4QKboQT3gxfcbNBIwoWtDI7rJLDwfRN6OaYzjXW0wFNkr8knVnlwlaTMee3RtFnlVJU4GxIhx5kKIi2AXk0yuJsfX0cQgDW6y0q8Ibn3hqmSBuZG/LloNTvug3bcrr2qrmd387/ORdbJueW5KxpFXzZLEiWjBGDjHARTeoWh4LgQdQo1G1VYx1usVKQJzMKYmim2FNp/7+svi3un58mwX7A/zF5dRYA2Fh01StuLiP5Tt/+Ds3dFUBHXmrZqe4e5nlcef9H0IZc8vhMKUgce5wyxrXotcNYcHJYMNY08fGZeHQoG80lp3BFxNH2Q9Y0fmIJOvQo3L7LpVpKE2y5tifXHUVZHKc/mcqxzNFBXyaWqZ3uyK5+L0dpa1TwaLlb/Xb26ab9wYVTKD9tc9mgD9Qve3XN4HcAAAD//7RLZqJxBgAA\n\n- path: /etc/kubernetes/addons/blobfuse-flexvolume-installer.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/6STQW/bMAyF7/4VQu+2ksOAQNftMmAtAhTYnVaYRAglaiIVNP9+8Oy0dtoVAfqONN9n8gmEHH5jkcDJGchZ7HndnELaOfMDMHJ6Rm0iKuxAwTXGJIjoTE/c76tguyd8OTO1IYkCEZapRTJ4dOZUe2zlIoqxMYagR5KBYsxpIy3k/IYaq7XHklBRusDWUxXF0gqWcxhwD1oqPjSS0Q8UQUKvXEZiBPXHX7Nf3A7bGKMYM4Hi5JjtNYgW5g/so+4bcui8Djool8Al6OU7gcjTP/IYTHsl+BI0eKDJ4DkphITldaL2nvRHhQgHdCb60sXgCwvvtfMc7WkjdrLViPYWVSO6dbfqNkvSthJtmYK/OPNz/8S6LSiY9LWroHAtHmfpDcU/FUUXNWN8rs58W8VFMWLkcnFmvVo9htkXCjF8ATBu9Mg1zSHXHM9MmeohJJmh4tC8BT06Y1G9fXttO9Imi32Pg0J8+A/qDMUSH66uEfXuZW8QR5bRP4PmD3mfrPQJ5J79Eu/weXFog3pU6JaHwOIMhVRfmr8BAAD//2Lx2RhUBAAA\n\n- path: /etc/kubernetes/addons/coredns.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    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\n\n- path: /etc/kubernetes/addons/ip-masq-agent.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/8xVTY/jNgy9+1cQc5fzsd0gFdBDkZ3DAJM02AF6Z2QmEaIPR6LcpOiPL2QnXjvYaXd6Kn0T+R4fKYrGWv9OIWrvJGBdx0kzK07aVRK+IFnv3ogLS4wVMsoCwKElCfhnCiR0LSzGs8ADOb75Yo2KJJzSjkS8RiZbABjckYkZDqC8rb0jx++xQAsOjphiqf1EmRSZgogUGp25nzgkemojsaq8s+jwQKEcw6yvSMJXUt4pbagNZ01BgvMVFbEmlQVFMqTYh06cRVbH14FagNMyCqzr99WOaAGYbG2Q6UY4aF02M+L+IfYHfoC79Gx10D5ovq4Mxrhp76brusjhQgXNWqG5RR995A3xHz6cJOQu3s5z7NuoEdl2xPjQVB8lGO3S5V65NxSQtXd9TQJOdJWwumX+Nd9Q/M2Za8/r64zxQcLzRUeOY2CrO3hDj/eJeQq+R3JOfYEADZo0npFstN+TYgkb/6aOVCVDfdJvRE+dnO+hni+kEn8Q9JBKeceoHYVBq/7pNXWmLR7ye1rG8qBCbsQoTqCtFj/JZl5+Lqdj0DYZs/VGq6uEl/3G8zZQHFJjOAwmMcsRghzuTNbSLH7Zo4nU+yOp1E6ad0wXHgLroBtt6EDVaKoAGm+SpbVPjh8yvVu4UN7t9UF00AEGwGaeLfJRwoRYTbrIPiRQ9CkoGmUKdE4Ux9kBVJ0kfJ7aMT1ZH675fK0HDqOt/hB+PiDoqhig/0vl3fka67GIfyMqhBDFcL33m311J/yxzS76Rv8PF/yziynQbZHcSxlllPCXaLmcd2uM50QBK1q9fPk6eIizadl+k+W3o8WyXHwqZ/Ofy9li8ml++0HE86t2p1ev0AymPVC8OvXimEKTHYtpLP4OAAD//wNJlbJbBwAA\n\n- path: /etc/kubernetes/addons/keyvault-flexvolume-installer.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/6RTwW7bMAy9+yuE3m2nGAYMug3rMBRYiyDpdh0YmUmEUKImUUb994PiJrGHtVswnozHx0fx0YRgv2NMlr1WEEJq+9vqYH2n1R2gY79GqRwKdCCgK6UINkipfKnC1+qAQw+ZpN4SPvdM2eExecgbjB4FU2O5NZSTYKwTxt4a1OpGYsabUabr2DvwsMPYzMscd6jVCg17Y6kIe3D4WtOSSwGKfJGp05AEXZUCmvLgHDoQXEsEwd0wjiBDKA2YyPrdtyOhUiohoRGOI8eBmP3XydxvTi7oAoHgS+3EuhI0k/mLhdfZeLWVSp2cKRGi5Whl+ESQ0uPR5dG/+tTURCvWAL0UCBNGEMv+PI9hL2A9xjNSv7mwMayDHWrlTGycNZETb6Ux7NrDh9Re+O0fNHS/aBbN7bu51jITLZmsGbS63z6yLCMm9HJmRUyco8HJIgr4M2OSGaaUCVmr9ws3Ax06joNWt4vFg51kyDr7HwLo+0vtybmnj6svn59+3N2vJgo9UEatWhTTXtbcjqYEyjvr05k+og+c/fRttXIFWYLs/1XodH090zw10idL33MalSe14YpOr/Tx3OF6dpslNijw28/OSSuyPj9XvwIAAP//En+5B+AEAAA=\n\n- path: /etc/kubernetes/addons/kube-proxy-daemonset.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/8xWT2/jthO9+1MQAX7YEyV7sb8gINBDkQ2KRZvU2GB7H1NjmzBFcsmha6Htdy9IybJkW06KXsrj/Hkzb+ZRFOd8Bk79hj4oawTbL2Y7ZSrBHq1Zq80zuFkFBGLGmMyWooFaC/bnjDHGhpm7uELn7aEpusDdQyiULfcL0G4Li5zQYv8cV7hMoW2R6IGUNTlAaoWGHq0xKJNRZCvL6C2uYOUefKnVqkxGjVSenB1GDIT+8cvnr4LdLebFx0/zYl7My8XHuxxQ2woFu1OOYKUxtMY1AkWPPwFhOFb9469ZjQTHCRiosSXKM1PeF02e4EAe3aEJhPWMMQ0r1B0eVJU1NRjYoC9SmDdImIfUdvQ1sZBK4+xI+RTRkeIB/V6lOnfkI7atS1s7a9DQsLnsIYVeMGOrDvIhcHBuFHauAHAulL0MPgPW1rwijQbx32d1uazpLQWHMnGJrgLCV/JAuGladtS4RMFqrczmWw7Idj+0HOVSw+GbgT0onXQl2P/n/5sxFlCjJOvbqBpIbn8ZzO8W0QuqU2QJa6f7ToarSkePyt0ueKXkVNG8fWMs5es7wA9yi1XU6It89c9UIb0iJUFzZyvBPnzIaccdpOO8sl5R86ghhJe8xnZTPDXFj/nHCVmNftwBZztsWgrcW43nsoSkub5b61K+9YI9fY89LGN70HGsyHRwvUZJgr3Y145lX/QEdPd0UIHCtaynA8pI/zDpolTm99gN4sd0A8OvRjfXOGXQXmmGQBn0g1FJW9dgqtP2OCu3jUOfhjYwXlEKZ7z7BP4w+ia3YeXgwehTVA2bdP0eQrGRPm2jr8Whru4/if2iWNwX9+OMZdR6abWSjWBf1i+Wlh4DGuqjrtz29ngMNnqJA3km4/eIgUY2xqSLgi3m8/okZJQxK9EawgMNw51Xe6Vxg5VgSSEn2Vgda3y20QzxOauTZQm0FaxEkmUIupTo+92cWISgefbwrQ00ahuqtOazipfYJ71fgCNJftX9LvA3Xt7zXVy43lXER1Me2qe50FbuLqCPD/fIOcZITdY23ZlQXraW2OvO/W9GcEPojIW4alOuuyd+Jnirn7e6Ssp4Qfrd+t3I3mYPrncKzG0MtdsyicGXYQseSwlZcGqtJAxVcUOPN5HfIZMJkdyEnZD2DWHfhJvU2aTKbsJdldy04Hini2dw4m1ZTH7orsomvXyvo9+OdFZI52+xDYJpZeJh9ncAAAD//2wC1CYJDAAA\n\n- path: /etc/kubernetes/addons/kubernetes-dashboard-deployment.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/9xVS2vkRhC+61c0OrvnwTphaMghiWETyJrBNrkEH2paZakz/UpXaVgl5L+HluchxTPjWQdDWJ3EV91fVX31aIjmV0xkgldiMy/WxldK3GPaGI3fax1az4VDhgoYVCGEhRVayn9CrBckIUYl1u0Kk0dGkhVQswqQqucTe8PEhKm2LTEmSc/0SpScWiz7k1BVwTvwUGOajK+5UKESd6iD18ZiIYQHhye9ZiNF0NsTkjpidIWUcpvdXbBYDPNOK9ATaLkJyfwJbIKfrBe96818lPxpv9IZbxzY0/7/F9Kl1iKpQgqI5mMKbSQlfivLx0KIhBTapLFHCHVCpt6wwbTqQZ0QGMvH16/r4J9M7SC+mWEYwM5wm4XNxqMFWGMnm2ArTGOfNXJ5Jco2Vtn1lSgrtPimNC6Lg5DZ+JrORXGRAH2hT3huEGLuh7GTmMLn7kvIp7sb51xcibJhjmoHqB1CA+hFso/9wF08ZYfJ/MH4yvj6K5u7YPEOn3IMu9KcEaQQYrCpLkqf2tXvqLmf7aM7/O1L89wLcfppuFjF1yrylrApos5xxJC4D0j2v0pcX3/onTKkGnnZY4tnkNCi5pAu6xPuIipxGyrMJC90ghjp0NY3GG3oHJ57St/noXxfeRNGazSQEvMXAjpg3fwyyPACTdFFC4xbgoFS+bMjrksmeRdm/nTwDMZj2jNIAake8EkhJbQcZI0eEzBKjYnNk9HASKNju7Unm0D8Xb8cp9MdOBkopRaz/UXjoM46LmhS65TLdXSgwVXfXqvNfDKfTebjy8vW2mWwRndK/Px0G3iZkLCf7a1EZoMeiZYprPCQmRA5xI/IQ0iICNwoUU7LMTqcicNHusHcKD89PCzvBxbjDRuwN2ihu8+NV5ESH2aDE2wchpaPGc/23iGcUZH2hVweCzSmwEEHq8TDj8s9fnj7BkcT/tEiMY1F0bHNIc7cCHXoQuqUmH8z+2QGFmuc+S8Mm2Bbh5/ygh6yyHMbP3clDbldvr7sizkdGp/JR+J9AS26yN2NSUr89fcWptGLcvta8Xyo8H60E/K3QoZ/ra1ASljj28/FPwEAAP//9h9Oyo0MAAA=\n\n- path: /etc/kubernetes/addons/kube-metrics-server-deployment.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/9RW30/bMBB+z19h9d0BRDUhvzEmTUiAKop4d50jeHVs63zp6P76yU7SNv0R0Y1qLC+4Tu7u++67H0ivnwGDdlawxUU217YQbAq40AqulXK1pawCkoUkKTLGrKxAsAoItQo8AC4A2+vgpQLB5vUMeFgGgipjzMgZmBAtWXqDFghCrt2ZMnUgwORDR8MRYQ2j9KUsCmcraWUJmPfNKleAYI+gnFXaQMY5zzZJ4EyqXNb06lD/kqSdzedXyXJF76aJ/OgM7OHWQBc7FE/OBGsDQWScSa+/o6t9CsbZKHpCCK5GBe2dd0VIB+sK2DidBZLU/u4kiT8XgLPWtARKf40OzeGnJPW6Jyy8EdiY1LAHQAHeuGUFlt7p/q9k+qptoW35qdRyBh7hJUboEjfAKmNst/aGOYR69gMUpYrY25bHNuMxEsyAZKfDsAD96Dz64wiy+Mdj4Q/l6emyagAuvd7gB5a0SuYd00+j1bt6pg9CtOWXlCvAQCnJ/acttMXh5LJsb8wPW5VHZHFXnibw6L4XeXSEjsGDijgCGFDksK2Bq8Cl93soeYe0WkxIgo3Hl8nEoyOnnBHs6WaSbkhiCTRZfbWdUel9WK+Ab6st83H/hBxkcaIq35/MKm7Fuw1cQ8gIKm8kQWu6kYn4HMhGfEwvwDD5Dmc699rk4XAA5SxJbQFXQfgQHsZ0Jcuoz1XIS4UpX1sLpCq+jMXiPL/Mx32rSW3MxBmtloLdvjw4miAESF3cgakqaYs1Xc7ODsDgjPMomwHi2gZQNQInE7qUugKmPb3iEwftltguCGa0rd/2FLJGKHUgHBjX15Pbw5Oj/TRvKazH4MkH87pkGzfZYJkdbLuymeg7+Bfr8dkkg7FOg+lc+6e76TOgflkKFtF3jiaoHWpa3murq7oS7OL8fO2se9tc/w4AAP//KMuAttYMAAA=\n\n- path: /etc/kubernetes/addons/pod-security-policy.yaml\n  permissions: \"0644\"\n  encoding: gzip\n  owner: \"root\"\n  content: !!binary |\n    H4sIAAAAAAAA/9RVwU4bMRC971dYXJAqJRRVVNXe0tBWSECjVOWCepisJ8GN1+OO7YT06ys73iUbAoogHHr0eOb5zdt5s2DVDbJTZEphSatqdbI4naCH02KujCzFiOQPrAIrvxql+6JGDxI8lIUQBmoshWW1UBpnKAshwBjy4BUZFzOEcFhVVNu+yzB90PYO+vMwQTbo0fUVnYDWtEQ5YpoqjddQoyvF0bujQggNE9QZC6QkU4OBGfIWQk0SSzHGikylNBbOYhWLHsiVwnPASDE+NmriX1wFOhHuJqAcgoWJ0sorTO/3MqMF6VB3Q3fk/DX6JfG8RYmxEbHPibUypXif2qjhvhQfz84+nOW0i9GwW3Zx3p45mIH76ZDXEnDQsc8YHJhVEfW9VCbcP3UbrNVYo/GgvzEF655InLp0vfO21+sVB5kURudZVf7QkyKpmiOfSJxC0H49KtYC18QPaJHsPmAcjFc1dtD2opYLNtBK8WJqO8EeUzugO6ag3fP2aDIY/wTFKM+Z7LZJ4qgPLi+7NonBisxUza7A5jPW1q/OFeejZfqNeTLi2WHF6PNB0tIsgeVgdNGkx1l0Ho2/Sc8MNah624gN39Zim4HksbajXSa7Cs4nD1yTGRP5V5qthVvHwMwacdr1cJqPWytihzdfDsYI8rvRq9jRV6XRrZzHupFi2+o8gaoPwd8Rq79pDPrzT2mkFo3xhzo4jzwmjbt+Ds6WnR/ECyc2tu3KoifAqqytuD3Ge48mMnXHv1JvjgJXmO4sycZgaWEpXCctkCeuTMLcHgeHncr1DijWE9myfhNVOsvwv1Flg/XrVPmsjFRmtkOcvN0OIxBpHOM01jUSPUO0EOLx13vim7kwiQsrqb8uSuhtevZVfAaNVxXkv94eLN5a2IP48bDCblB6S2GfAzQk0e0J9C8AAP//dqob7TgLAAA=\n\n\n\n- path: /etc/default/kubelet\n  permissions: \"0644\"\n  owner: root\n  content: |\n    KUBELET_CONFIG=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true --image-gc-high-threshold=85 --image-gc-low-threshold=80 --image-pull-progress-deadline=30m --keep-terminated-pod-volumes=false --kubeconfig=/var/lib/kubelet/kubeconfig --max-pods=30 --network-plugin=cni --node-status-update-frequency=10s --non-masquerade-cidr=0.0.0.0/0 --pod-infra-container-image=mcr.microsoft.com/k8s/core/pause:1.2.0 --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=0 --rotate-certificates=true --streaming-connection-idle-timeout=4h --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key \n    KUBELET_IMAGE=k8s.gcr.io/hyperkube-amd64:v1.16.6\n\n    KUBELET_NODE_LABELS=kubernetes.azure.com/role=master,node.kubernetes.io/exclude-from-external-load-balancers=true,node.kubernetes.io/exclude-disruption=true,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'\n\n\n\n    KUBELET_REGISTER_NODE=--register-node=true\n    KUBELET_REGISTER_WITH_TAINTS=--register-with-taints=node-role.kubernetes.io/master=true:NoSchedule\n\n    #EOF\n\n- path: /opt/azure/containers/kubelet.sh\n  permissions: \"0755\"\n  owner: root\n  content: |\n    #!/bin/bash\n    set -e\n  \n\n    # Redirect ILB (4443) traffic to port 443 (ELB) in the prerouting chain\n    iptables -t nat -A PREROUTING -p tcp --dport 4443 -j REDIRECT --to-port 443\n\n    sed -i \"s|<advertiseAddr>|',variables('kubernetesAPIServerIP'),'|g\" /etc/kubernetes/manifests/kube-apiserver.yaml\n\n\n\n\n\n    #EOF\n\n- path: /opt/azure/containers/mountetcd.sh\n  permissions: \"0744\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').mountEtcdScript,'\n\n- path: /etc/systemd/system/etcd.service\n  permissions: \"0644\"\n  encoding: gzip\n  owner: root\n  content: !!binary |\n    ',variables('cloudInitFiles').etcdSystemdService,'\n\n- path: /opt/azure/containers/setup-etcd.sh\n  permissions: \"0744\"\n  owner: root\n  content: |\n    #!/bin/bash\n    set -x\n  \n    sudo sed -i \"1iETCDCTL_ENDPOINTS=https://127.0.0.1:2379\" /etc/environment\n    sudo sed -i \"1iETCDCTL_CA_FILE=',variables('etcdCaFilepath'),'\" /etc/environment\n    sudo sed -i \"1iETCDCTL_KEY_FILE=',variables('etcdClientKeyFilepath'),'\" /etc/environment\n    sudo sed -i \"1iETCDCTL_CERT_FILE=',variables('etcdClientCertFilepath'),'\" /etc/environment\n    sudo sed -i \"/^DAEMON_ARGS=/d\" /etc/default/etcd\n    /bin/echo DAEMON_ARGS=--name \"',variables('masterVMNames')[copyIndex(variables('masterOffset'))],'\" --peer-client-cert-auth --peer-trusted-ca-file=',variables('etcdCaFilepath'),' --peer-cert-file=',variables('etcdPeerCertFilepath')[copyIndex(variables('masterOffset'))],' --peer-key-file=',variables('etcdPeerKeyFilepath')[copyIndex(variables('masterOffset'))],' --initial-advertise-peer-urls \"',variables('masterEtcdPeerURLs')[copyIndex(variables('masterOffset'))],'\" --listen-peer-urls \"',variables('masterEtcdPeerURLs')[copyIndex(variables('masterOffset'))],'\" --client-cert-auth --trusted-ca-file=',variables('etcdCaFilepath'),' --cert-file=',variables('etcdServerCertFilepath'),' --key-file=',variables('etcdServerKeyFilepath'),' --advertise-client-urls \"',variables('masterEtcdClientURLs')[copyIndex(variables('masterOffset'))],'\" --listen-client-urls \"',concat(variables('masterEtcdClientURLs')[copyIndex(variables('masterOffset'))], ',https://127.0.0.1:', variables('masterEtcdClientPort')),'\" --initial-cluster-token \"k8s-etcd-cluster\" --initial-cluster ',variables('masterEtcdClusterStates')[div(variables('masterCount'), 2)],' --data-dir \"/var/lib/etcddisk\" --initial-cluster-state \"new\" | tee -a /etc/default/etcd\n  \n\n    #EOF\n\n\n\n\nruncmd:\n- set -x\n- . /opt/azure/containers/provision_source.sh\n- aptmarkWALinuxAgent hold\n\n'))]",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "keyData": "[parameters('sshRSAPublicKey')]",
                                    "path": "[variables('sshKeyPath')]"
                                }
                            ]
                        }
                    }
                },
                "storageProfile": {
                    "dataDisks": [
                        {
                            "createOption": "Empty",
                            "diskSizeGB": 512,
                            "lun": 0,
                            "name": "[concat(variables('masterVMNamePrefix'), copyIndex(variables('masterOffset')),'-etcddisk')]"
                        }
                    ],
                    "imageReference": {
                        "offer": "[parameters('osImageOffer')]",
                        "publisher": "[parameters('osImagePublisher')]",
                        "sku": "[parameters('osImageSku')]",
                        "version": "[parameters('osImageVersion')]"
                    },
                    "osDisk": {
                        "caching": "ReadWrite",
                        "createOption": "FromImage"
                    }
                }
            },
            "copy": {
                "name": "vmLoopNode",
                "count": "[sub(variables('masterCount'), variables('masterOffset'))]"
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines/extensions",
            "apiVersion": "[variables('apiVersionCompute')]",
            "name": "[concat(variables('masterVMNamePrefix'), copyIndex(variables('masterOffset')),'/cse', '-master-', copyIndex(variables('masterOffset')))]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[concat('Microsoft.Compute/virtualMachines/', variables('masterVMNamePrefix'), copyIndex(variables('masterOffset')))]"
            ],
            "tags": {},
            "properties": {
                "autoUpgradeMinorVersion": true,
                "protectedSettings": {
                    "commandToExecute": "[concat('echo $(date),$(hostname);  for i in $(seq 1 1200); do grep -Fq \"EOF\" /opt/azure/containers/provision.sh && break; if [ $i -eq 1200 ]; then exit 100; else sleep 1; fi; done; ', variables('provisionScriptParametersCommon'),' USER_ASSIGNED_IDENTITY_ID=',' ',variables('provisionScriptParametersMaster'), ' IS_VHD=true /usr/bin/nohup /bin/bash -c \"/bin/bash /opt/azure/containers/provision.sh >> /var/log/azure/cluster-provision.log 2>&1\"')]"
                },
                "publisher": "Microsoft.Azure.Extensions",
                "settings": {},
                "type": "CustomScript",
                "typeHandlerVersion": "2.0"
            },
            "copy": {
                "name": "vmLoopNode",
                "count": "[sub(variables('masterCount'), variables('masterOffset'))]"
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines/extensions",
            "apiVersion": "[variables('apiVersionCompute')]",
            "name": "[concat(variables('masterVMNamePrefix'), copyIndex(variables('masterOffset')), '/computeAksLinuxBilling')]",
            "location": "[variables('location')]",
            "dependsOn": [
                "[concat('Microsoft.Compute/virtualMachines/', variables('masterVMNamePrefix'), copyIndex(variables('masterOffset')))]"
            ],
            "tags": {},
            "properties": {
                "autoUpgradeMinorVersion": true,
                "publisher": "Microsoft.AKS",
                "settings": {},
                "type": "Compute.AKS-Engine.Linux.Billing",
                "typeHandlerVersion": "1.0"
            },
            "copy": {
                "name": "vmLoopNode",
                "count": "[sub(variables('masterCount'), variables('masterOffset'))]"
            }
        }
    ],
    "outputs": {
        "masterFQDN": {
            "type": "String",
            "value": ""
        },
        "primaryAvailabilitySetName": {
            "type": "String",
            "value": "[variables('primaryAvailabilitySetName')]"
        },
        "primaryScaleSetName": {
            "type": "String",
            "value": "[variables('primaryScaleSetName')]"
        },
        "resourceGroup": {
            "type": "String",
            "value": "[variables('resourceGroup')]"
        },
        "routeTableName": {
            "type": "String",
            "value": "[variables('routeTableName')]"
        },
        "securityGroupName": {
            "type": "String",
            "value": "[variables('nsgName')]"
        },
        "subnetName": {
            "type": "String",
            "value": "[variables('subnetName')]"
        },
        "virtualNetworkName": {
            "type": "String",
            "value": "[variables('virtualNetworkName')]"
        },
        "vnetResourceGroup": {
            "type": "String",
            "value": "[variables('virtualNetworkResourceGroupName')]"
        }
    }
}
