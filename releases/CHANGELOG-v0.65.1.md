
<a name="v0.65.1"></a>
# [v0.65.1] - 2021-07-08
### Bug Fixes üêû
- front-proxy certs updated by rotate-certs ([#4467](https://github.com/Azure/aks-engine/issues/4467))
- stop using ServiceNodeExclusion feature gate after it is GA ([#4466](https://github.com/Azure/aks-engine/issues/4466))
- Graceful coredns shutdown ([#4443](https://github.com/Azure/aks-engine/issues/4443))
- Run CSI controller driver on master node ([#4432](https://github.com/Azure/aks-engine/issues/4432))
- nvidia + containerd errata ([#4433](https://github.com/Azure/aks-engine/issues/4433))
- distinguish ctrd and smalldisk windows image in upgrade scenario ([#4422](https://github.com/Azure/aks-engine/issues/4422))
- Force restart kubeproxy to avoid stucking ([#4375](https://github.com/Azure/aks-engine/issues/4375))
- Fix installer for custom package URL's. ([#4364](https://github.com/Azure/aks-engine/issues/4364))
- Checking return code of curl.exe on Windows ([#4327](https://github.com/Azure/aks-engine/issues/4327))
- specify correct pause image in containerd config for Windows 20h2 ([#4344](https://github.com/Azure/aks-engine/issues/4344))
- disable docker when containerD is specified ([#4282](https://github.com/Azure/aks-engine/issues/4282))
- kube-proxy image on Azure Stack deployments ([#4329](https://github.com/Azure/aks-engine/issues/4329))
- prepend https:// in service-account-issuer flag ([#4262](https://github.com/Azure/aks-engine/issues/4262))
- remove duplicate labels for cilium-operator ([#4260](https://github.com/Azure/aks-engine/issues/4260))
- rotate-certs on custom clouds ([#4248](https://github.com/Azure/aks-engine/issues/4248))
- add retry when downloading files in windows CSE ([#4232](https://github.com/Azure/aks-engine/issues/4232))
- use curl.exe and add retries when downloading artifacts to Windows VHD ([#4206](https://github.com/Azure/aks-engine/issues/4206))
- update nodecustomdata to enable portmapper for kubenet+containerd ([#4191](https://github.com/Azure/aks-engine/issues/4191))
- fix network cleanup code on windows for contianerd nodes ([#4154](https://github.com/Azure/aks-engine/issues/4154))
- update error code for vhd not found ([#4150](https://github.com/Azure/aks-engine/issues/4150))
- fix that kubeproxy cannot parse featuregates ([#4145](https://github.com/Azure/aks-engine/issues/4145))
- Fixing URl for azure-cni v1.20_hotfix package in Windows VHD ([#4136](https://github.com/Azure/aks-engine/issues/4136))
- ensure we wait for the right CRI service name ([#4115](https://github.com/Azure/aks-engine/issues/4115))
- honor user-defined feature gates before applying defaults ([#4113](https://github.com/Azure/aks-engine/issues/4113))
- typo in upgrade log message ([#4109](https://github.com/Azure/aks-engine/issues/4109))
- filter out KeyVault resources during upgrade ([#4072](https://github.com/Azure/aks-engine/issues/4072))
- make system role assignments work w/ upgrade ([#4078](https://github.com/Azure/aks-engine/issues/4078))
- cleanup VMSSName + addpool ([#4067](https://github.com/Azure/aks-engine/issues/4067))
- enforce Azure CNI config via jq instead of sed ([#4060](https://github.com/Azure/aks-engine/issues/4060))
- persist VMSS name in API model ([#4051](https://github.com/Azure/aks-engine/issues/4051))
- Windows and VMSS version validation for azs ([#4030](https://github.com/Azure/aks-engine/issues/4030))
- always ensure etcd on control plane vms ([#4045](https://github.com/Azure/aks-engine/issues/4045))
- fixing an issue where windows cannot start kubelet to get podCIDR on Windows nodes when using kubenet ([#4039](https://github.com/Azure/aks-engine/issues/4039))
- Adding csi-proxy logs to prevent access denied errors ([#4029](https://github.com/Azure/aks-engine/issues/4029))
- upgrade broken for VMAS + managed identities ([#4021](https://github.com/Azure/aks-engine/issues/4021))
- enable dhcpv6 only for ubuntu 16.04 ([#4017](https://github.com/Azure/aks-engine/issues/4017))
- Re-ordering HNS policy removal due to 10c change in behavior and consolidating logic in Windows cleanup scripts  ([#4002](https://github.com/Azure/aks-engine/issues/4002))
- Mount /usr/local/share/ca-certificates folder into kube-controller-manager ([#4001](https://github.com/Azure/aks-engine/issues/4001))
- cancel Pod Eviction jobs when timeout ([#3970](https://github.com/Azure/aks-engine/issues/3970))
- ensure flatcar configs use transparent Azure CNI ([#3972](https://github.com/Azure/aks-engine/issues/3972))
- page not done logic bug ([#3971](https://github.com/Azure/aks-engine/issues/3971))
- resource identifier not passed to custom cloud profile ([#3953](https://github.com/Azure/aks-engine/issues/3953))
- get-logs command collects control plane logs even if apiserver is down ([#3939](https://github.com/Azure/aks-engine/issues/3939))
- use InternalIP for metrics-server DNS resolution ([#3929](https://github.com/Azure/aks-engine/issues/3929))
- VMSS control plane + availability zones ([#3917](https://github.com/Azure/aks-engine/issues/3917))
- Azure Stack upgrade operations clear old MCR ImageBase ([#3922](https://github.com/Azure/aks-engine/issues/3922))
- remove NSG rules for AzureStack ([#3914](https://github.com/Azure/aks-engine/issues/3914))
- fix jumpbox custom data ([#3896](https://github.com/Azure/aks-engine/issues/3896))
- don't warn about CRI update on cluster create ([#3890](https://github.com/Azure/aks-engine/issues/3890))
- ensure addon hostNetwork ports don't conflict ([#3894](https://github.com/Azure/aks-engine/issues/3894))
- de-dup vnet roleAssignment deployments ([#3857](https://github.com/Azure/aks-engine/issues/3857))
- add #EOF sentinel chars to custom search file ([#3862](https://github.com/Azure/aks-engine/issues/3862))
- E2E scale scenario broken if update is false ([#3852](https://github.com/Azure/aks-engine/issues/3852))
- Azure Stack CNI network interfaces file creation fix ([#3792](https://github.com/Azure/aks-engine/issues/3792))

### Code Refactoring üíé
- remove storage type from SKU lookup table ([#4316](https://github.com/Azure/aks-engine/issues/4316))
- remove unsupported orchestrators ([#3965](https://github.com/Azure/aks-engine/issues/3965))
- move ssh-related funcs to its own package ([#3990](https://github.com/Azure/aks-engine/issues/3990))
- delete Azure Stack's KubernetesClient implementation ([#3957](https://github.com/Azure/aks-engine/issues/3957))

### Continuous Integration üíú
- don't run vmss-prototype tests for release ([#4458](https://github.com/Azure/aks-engine/issues/4458))
- setup SSH client in release CI ([#4457](https://github.com/Azure/aks-engine/issues/4457))
- don't install ginkgo ([#4456](https://github.com/Azure/aks-engine/issues/4456))
- use go 1.16 to build release artifacts ([#4454](https://github.com/Azure/aks-engine/issues/4454))
- v0.64.0 changelog ([#4453](https://github.com/Azure/aks-engine/issues/4453))
- automated release using github actions ([#4451](https://github.com/Azure/aks-engine/issues/4451))
- workaround image publishing errors ([#4413](https://github.com/Azure/aks-engine/issues/4413))
- interpret STABILITY_ITERATIONS as int ([#4390](https://github.com/Azure/aks-engine/issues/4390))
- inherit STABILITY_ITERATIONS from env ([#4387](https://github.com/Azure/aks-engine/issues/4387))
- treat failures in cleanup tasks for pr-windows-signed-scripts.yaml as warmings not errors ([#4384](https://github.com/Azure/aks-engine/issues/4384))
- delete test/e2e/test_cluster_configs/windows/vhd_url.json ([#4383](https://github.com/Azure/aks-engine/issues/4383))
- clear out unnecessary env vars ([#4381](https://github.com/Azure/aks-engine/issues/4381))
- Fix flaky docker rotate e2e test ([#4353](https://github.com/Azure/aks-engine/issues/4353))
- make sure sku is exact match when deciding to create or reuse sku for publishing Windows VHDs ([#4292](https://github.com/Azure/aks-engine/issues/4292))
- skip dns liveness test after upgrade ([#4237](https://github.com/Azure/aks-engine/issues/4237))
- refactor Windows VHD build pipeline updates ([#4105](https://github.com/Azure/aks-engine/issues/4105))
- update dev image to deis/docker-go-dev v1.29.0 ([#4195](https://github.com/Azure/aks-engine/issues/4195))
- remove KMS test from everything cluster config ([#4194](https://github.com/Azure/aks-engine/issues/4194))
- add manual dispatch trigger to nightly build ([#4123](https://github.com/Azure/aks-engine/issues/4123))
- use 3 replicas for no-vnet E2E jobs ([#4061](https://github.com/Azure/aks-engine/issues/4061))
- Updating pr-windows-signed-scripts.yaml to allow for overriding cluster definition ([#4015](https://github.com/Azure/aks-engine/issues/4015))
- remove node-problem-detector addon from PR E2E ([#4010](https://github.com/Azure/aks-engine/issues/4010))
- Adding CI pipeline to verify windows provisioning script content BEFORE it gets check in ([#4008](https://github.com/Azure/aks-engine/issues/4008))
- Windows VHD pipeline tests ([#3977](https://github.com/Azure/aks-engine/issues/3977))
- reduce addons area for containerd config tests ([#3923](https://github.com/Azure/aks-engine/issues/3923))
- adding github actions to create nightly builds ([#3904](https://github.com/Azure/aks-engine/issues/3904))
- E2E fixes to allow more containerd tests ([#3903](https://github.com/Azure/aks-engine/issues/3903))
- add containerd PR E2E tests ([#3892](https://github.com/Azure/aks-engine/issues/3892))
- update OWNERS ([#3853](https://github.com/Azure/aks-engine/issues/3853))

### Documentation üìò
- add v0.63.0 to Azure Stack topic page ([#4452](https://github.com/Azure/aks-engine/issues/4452))
- remove nvidia-device-plugin addon containerd language ([#4448](https://github.com/Azure/aks-engine/issues/4448))
- gpu does not require 16.04 ([#4386](https://github.com/Azure/aks-engine/issues/4386))
- avoid --control-plane-only upgrade on air-gapped clouds ([#4334](https://github.com/Azure/aks-engine/issues/4334))
- add CSI driver instructions for Azure Stack ([#4326](https://github.com/Azure/aks-engine/issues/4326))
- add v0.60.1 to Azure Stack topic page ([#4324](https://github.com/Azure/aks-engine/issues/4324))
- update get-verions section of Azure Stack documentation ([#4308](https://github.com/Azure/aks-engine/issues/4308))
- Update AAD documentation for Azure Stack and UI changes to Azure ([#4226](https://github.com/Azure/aks-engine/issues/4226))
- refine message about aks-engine project status ([#4312](https://github.com/Azure/aks-engine/issues/4312))
- remove obsolete walkthrough doc ([#4287](https://github.com/Azure/aks-engine/issues/4287))
- add dual-stack iptables api model ([#4185](https://github.com/Azure/aks-engine/issues/4185))
- aad not supported on AZs ([#4182](https://github.com/Azure/aks-engine/issues/4182))
- fix broken link in AAD docs ([#4180](https://github.com/Azure/aks-engine/issues/4180))
- support FAQ ([#4148](https://github.com/Azure/aks-engine/issues/4148))
- remove warning about Windows + custom VNET ([#4147](https://github.com/Azure/aks-engine/issues/4147))
- Clarify README for Azure Stack Hub ([#4128](https://github.com/Azure/aks-engine/issues/4128))
- Added references to capz ([#4124](https://github.com/Azure/aks-engine/issues/4124))
- clarify msi as default, and requirements ([#4122](https://github.com/Azure/aks-engine/issues/4122))
- update dualstack docs to 1.20 ([#4101](https://github.com/Azure/aks-engine/issues/4101))
- fixed broken link in Azure Stack topic page ([#4056](https://github.com/Azure/aks-engine/issues/4056))
- remove double quotes(") at the aks-deploy sample ([#3967](https://github.com/Azure/aks-engine/issues/3967))
- adding instructions for how how to build the Windows VHD for di‚Ä¶ ([#3911](https://github.com/Azure/aks-engine/issues/3911))
- confirm flannel + docker is not supported ([#3886](https://github.com/Azure/aks-engine/issues/3886))
- add notes about not upgrading LB config ([#3884](https://github.com/Azure/aks-engine/issues/3884))
- clarify that update is for node pools only ([#3877](https://github.com/Azure/aks-engine/issues/3877))
- CLI operations ([#3837](https://github.com/Azure/aks-engine/issues/3837))
- mark rotate-certs command as experimental ([#3869](https://github.com/Azure/aks-engine/issues/3869))
- add v0.55.4 to Azure Stack topic page ([#3846](https://github.com/Azure/aks-engine/issues/3846))
- remove mention about library for AKS ([#3835](https://github.com/Azure/aks-engine/issues/3835))
- add required attribution reminder to PR template ([#3826](https://github.com/Azure/aks-engine/issues/3826))

### Features üåà
- add support for Kubernetes v1.19.12 ([#4473](https://github.com/Azure/aks-engine/issues/4473))
- add support for Kubernetes v1.18.20 ([#4470](https://github.com/Azure/aks-engine/issues/4470))
- add support for Kubernetes 1.21.2 ([#4471](https://github.com/Azure/aks-engine/issues/4471))
- add support for Kubernetes v1.20.8 ([#4474](https://github.com/Azure/aks-engine/issues/4474))
- enable working, validated exec livenessProbes ([#4325](https://github.com/Azure/aks-engine/issues/4325))
- add support for Kubernetes v1.18.19 ([#4410](https://github.com/Azure/aks-engine/issues/4410))
- add support for Kubernetes v1.19.11 ([#4411](https://github.com/Azure/aks-engine/issues/4411))
- add support for Kubernetes v1.20.7 ([#4408](https://github.com/Azure/aks-engine/issues/4408))
- add support for Kubernetes v1.21.1 ([#4407](https://github.com/Azure/aks-engine/issues/4407))
- Add support for custom runc deb URL ([#4403](https://github.com/Azure/aks-engine/issues/4403))
- get-logs from VMs unable to join the cluster ([#4399](https://github.com/Azure/aks-engine/issues/4399))
- add Azure Stack support for k8s 1.18.18, 1.19.10, and 1.20.6 ([#4396](https://github.com/Azure/aks-engine/issues/4396))
- add support for Kubernetes v1.22.0-alpha.1 ([#4395](https://github.com/Azure/aks-engine/issues/4395))
- updates for container monitoring addon omsagent agent March 2021 release ([#4388](https://github.com/Azure/aks-engine/issues/4388))
- add support for Kubernetes v1.18.18 ([#4378](https://github.com/Azure/aks-engine/issues/4378))
- add support for Kubernetes v1.19.10 ([#4377](https://github.com/Azure/aks-engine/issues/4377))
- add support for Kubernetes v1.20.6 ([#4373](https://github.com/Azure/aks-engine/issues/4373))
- deprecate Azure CNI networkmonitor daemonset ([#4363](https://github.com/Azure/aks-engine/issues/4363))
- Windows containerd VHD support ([#4137](https://github.com/Azure/aks-engine/issues/4137))
- don't install nvidia drivers if nvidia-device-plugin is disabled ([#4358](https://github.com/Azure/aks-engine/issues/4358))
- add support for Kubernetes v1.21.0 ([#4362](https://github.com/Azure/aks-engine/issues/4362))
- configurable Linux eth0 MTU ([#4352](https://github.com/Azure/aks-engine/issues/4352))
- add support for Kubernetes v1.21.0-rc.0 ([#4348](https://github.com/Azure/aks-engine/issues/4348))
- add support for Kubernetes v1.20.5 ([#4339](https://github.com/Azure/aks-engine/issues/4339))
- Use NSSM for containerd and collect containerd logs ([#4219](https://github.com/Azure/aks-engine/issues/4219))
- add support for Kubernetes v1.18.17 ([#4340](https://github.com/Azure/aks-engine/issues/4340))
- add support for Kubernetes v1.19.9 ([#4338](https://github.com/Azure/aks-engine/issues/4338))
- update pause image to v3.4.1 ([#4333](https://github.com/Azure/aks-engine/issues/4333))
- add support for Kubernetes 1.21.0-beta.1 ([#4321](https://github.com/Azure/aks-engine/issues/4321))
- updates for container monitoring addon omsagent agent Feb 2021 release ([#4328](https://github.com/Azure/aks-engine/issues/4328))
- Add ACL rules for some network endpoints on Windows ([#3833](https://github.com/Azure/aks-engine/issues/3833))
- allow creation of dualstack Windows clusters ([#4176](https://github.com/Azure/aks-engine/issues/4176))
- add support for Kubernetes 1.21.0-beta.0 ([#4300](https://github.com/Azure/aks-engine/issues/4300))
- add support for Kubernetes v1.18.16 ([#4284](https://github.com/Azure/aks-engine/issues/4284))
- add support for Kubernetes v1.20.4 ([#4285](https://github.com/Azure/aks-engine/issues/4285))
- add support for Kubernetes v1.19.8 ([#4283](https://github.com/Azure/aks-engine/issues/4283))
- add support for Kubernetes 1.21.0-alpha.3 ([#4258](https://github.com/Azure/aks-engine/issues/4258))
- rotate-certs fails faster if invalid ssh params ([#4252](https://github.com/Azure/aks-engine/issues/4252))
- deprecate flannel addon ([#4238](https://github.com/Azure/aks-engine/issues/4238))
- Support configurable `tags` and `enableMultipleStandardLoadBalancers` ([#4048](https://github.com/Azure/aks-engine/issues/4048))
- run unattended upgrades by default ([#4231](https://github.com/Azure/aks-engine/issues/4231))
- run accelerated unattended-upgrade at node creation time ([#4217](https://github.com/Azure/aks-engine/issues/4217))
- reworked rotate-certs command ([#4214](https://github.com/Azure/aks-engine/issues/4214))
- add support for Kubernetes v1.16.15 and v1.18.15 on Azure Stack ([#4187](https://github.com/Azure/aks-engine/issues/4187))
- add support for Kubernetes v1.17.17 on Azure Stack ([#4188](https://github.com/Azure/aks-engine/issues/4188))
- add support for Kubernetes 1.20.2 ([#4192](https://github.com/Azure/aks-engine/issues/4192))
- create kms key as part of cluster bootstrap ([#4170](https://github.com/Azure/aks-engine/issues/4170))
- add support for Kubernetes v1.21.0-alpha.1 ([#4178](https://github.com/Azure/aks-engine/issues/4178))
- add support for Kubernetes v1.18.15 ([#4166](https://github.com/Azure/aks-engine/issues/4166))
- add support for Kubernetes v1.17.17 ([#4167](https://github.com/Azure/aks-engine/issues/4167))
- add support for Kubernetes v1.19.7 ([#4165](https://github.com/Azure/aks-engine/issues/4165))
- setting a default containerd package for Windows ([#4149](https://github.com/Azure/aks-engine/issues/4149))
- add support for Kubernetes v1.18.14 ([#4139](https://github.com/Azure/aks-engine/issues/4139))
- add support for Kubernetes v1.19.6 ([#4140](https://github.com/Azure/aks-engine/issues/4140))
- add support for Kubernetes v1.17.16 ([#4138](https://github.com/Azure/aks-engine/issues/4138))
- add support for Kubernetes v1.20.1 ([#4141](https://github.com/Azure/aks-engine/issues/4141))
- Add WinDSR support ([#4104](https://github.com/Azure/aks-engine/issues/4104))
- Updating kubelet/kube-proxy to run with as high priority processes ([#4073](https://github.com/Azure/aks-engine/issues/4073))
- Add support for specifying linux moby url ([#4120](https://github.com/Azure/aks-engine/issues/4120))
- Updating Windows VHDs to include Dec 2012 patches ([#4118](https://github.com/Azure/aks-engine/issues/4118))
- add support for Kubernetes v1.18.13 ([#4111](https://github.com/Azure/aks-engine/issues/4111))
- add support for Kubernetes v1.19.5 ([#4110](https://github.com/Azure/aks-engine/issues/4110))
- add support for Kubernetes v1.20.0 ([#4102](https://github.com/Azure/aks-engine/issues/4102))
- disable livenessProbe timeout enforcement ([#4085](https://github.com/Azure/aks-engine/issues/4085))
- add support for Kubernetes v1.20.0-rc.0 ([#4076](https://github.com/Azure/aks-engine/issues/4076))
- Enable chrony and host-based time sync by default on Ubuntu 18.04 ([#4011](https://github.com/Azure/aks-engine/issues/4011))
- add support for Kubernetes v1.19.4 ([#4042](https://github.com/Azure/aks-engine/issues/4042))
- add support for Kubernetes 1.18.12 ([#4043](https://github.com/Azure/aks-engine/issues/4043))
- add support for Kubernetes v1.20.0-beta.1 ([#3999](https://github.com/Azure/aks-engine/issues/3999))
- set apiserver tokenRequest flags in 1.20+ ([#3989](https://github.com/Azure/aks-engine/issues/3989))
- add support for Kubernetes v1.20.0-beta.0 ([#3991](https://github.com/Azure/aks-engine/issues/3991))
- add support for Kubernetes v1.20.0-alpha.3 ([#3934](https://github.com/Azure/aks-engine/issues/3934))
- upload collected logs to storage account container ([#3944](https://github.com/Azure/aks-engine/issues/3944))
- add support for Kubernetes v1.17.13 ([#3954](https://github.com/Azure/aks-engine/issues/3954))
- add support for Kubernetes v1.18.10 on Azure Stack ([#3950](https://github.com/Azure/aks-engine/issues/3950))
- add support for Kubernetes v1.18.10 ([#3948](https://github.com/Azure/aks-engine/issues/3948))
- updates for container monitoring addon omsagent agent September 2020 release ([#3942](https://github.com/Azure/aks-engine/issues/3942))
- add support for Kubernetes v1.19.3 ([#3937](https://github.com/Azure/aks-engine/issues/3937))
- custom Windows log collection script ([#3940](https://github.com/Azure/aks-engine/issues/3940))
- enable system-assigned identity by default ([#3856](https://github.com/Azure/aks-engine/issues/3856))
- Target new windows VHD with new K8s binaries (1.19.2, 1.18.9, etc) ([#3905](https://github.com/Azure/aks-engine/issues/3905))
- add ScaleCPULimitsToSandbox for hyperv runtimeclasses ([#3889](https://github.com/Azure/aks-engine/issues/3889))
- allow custom containerd package for Linux nodes ([#3878](https://github.com/Azure/aks-engine/issues/3878))
- Updating Windows VHD build files to support building for multiple OS versions ([#3847](https://github.com/Azure/aks-engine/issues/3847))
- add support for Kubernetes v1.18.9 ([#3841](https://github.com/Azure/aks-engine/issues/3841))
- add support for Kubernetes v1.19.2 ([#3842](https://github.com/Azure/aks-engine/issues/3842))
- add support for Kubernetes v1.17.12 ([#3840](https://github.com/Azure/aks-engine/issues/3840))
- update VMSS node pools ([#3830](https://github.com/Azure/aks-engine/issues/3830))

### Maintenance üîß
- don't use upx to compress built binaries ([#4571](https://github.com/Azure/aks-engine/issues/4571))
- update 18.04-LTS VHD to 2021.06.22 ([#4479](https://github.com/Azure/aks-engine/issues/4479))
- June Windows VHDs ([#4480](https://github.com/Azure/aks-engine/issues/4480))
- Use Azure June release images ([#4477](https://github.com/Azure/aks-engine/issues/4477))
- update to the nVidia 460.32.03 drivers ([#4465](https://github.com/Azure/aks-engine/issues/4465))
- update 18.04 VHD to 2021.06.08 ([#4449](https://github.com/Azure/aks-engine/issues/4449))
- updates error msg ([#4446](https://github.com/Azure/aks-engine/issues/4446))
- freshen go mod dependencies ([#4440](https://github.com/Azure/aks-engine/issues/4440))
- update metrics-server to v0.5.0 ([#4442](https://github.com/Azure/aks-engine/issues/4442))
- rev 18.04-LTS VHD to 2021.05.24 ([#4438](https://github.com/Azure/aks-engine/issues/4438))
- Add Dockerfile for convenient building ([#4431](https://github.com/Azure/aks-engine/issues/4431))
- update 18.04 VHD to 2021.05.19 ([#4430](https://github.com/Azure/aks-engine/issues/4430))
- Add May images ([#4429](https://github.com/Azure/aks-engine/issues/4429))
- bump metrics-server to v0.4.4 ([#4424](https://github.com/Azure/aks-engine/issues/4424))
- Ubuntu 16.04-LTS is EOL ([#4418](https://github.com/Azure/aks-engine/issues/4418))
- download nvidia drivers during VHD ([#4421](https://github.com/Azure/aks-engine/issues/4421))
- update Linux VHD to 2021.05.13 ([#4419](https://github.com/Azure/aks-engine/issues/4419))
- bump kube-addon-manager to v9.1.5 ([#4412](https://github.com/Azure/aks-engine/issues/4412))
- Update nvidia runtime ([#4402](https://github.com/Azure/aks-engine/issues/4402))
- May 2021 Windows patch update ([#4404](https://github.com/Azure/aks-engine/issues/4404))
- update CRI builds ([#4394](https://github.com/Azure/aks-engine/issues/4394))
- Update Windows provisioning scripts to 0.0.13 ([#4379](https://github.com/Azure/aks-engine/issues/4379))
- update Go toolchain to v1.16.3 ([#4385](https://github.com/Azure/aks-engine/issues/4385))
- Upgrade nvidia drivers to 450.80.02 ([#4376](https://github.com/Azure/aks-engine/issues/4376))
- use rbac.authorization.k8s.io/v1 for metrics-server ([#4367](https://github.com/Azure/aks-engine/issues/4367))
- update Linux VHDs to 2021.04.13 ([#4366](https://github.com/Azure/aks-engine/issues/4366))
- Updating default windows VHDs ([#4368](https://github.com/Azure/aks-engine/issues/4368))
- Adding April 2021 security updates to Windows VHD ([#4365](https://github.com/Azure/aks-engine/issues/4365))
- update Go toolchain to v1.15.11 ([#4355](https://github.com/Azure/aks-engine/issues/4355))
- bump win provisioning scripts to 0.0.12 ([#4345](https://github.com/Azure/aks-engine/issues/4345))
- Update default Windows VHDs to include 3B patches ([#4337](https://github.com/Azure/aks-engine/issues/4337))
- Adding mcr.microsoft.com/oss/kubernetes/pause:3.4.1 to Windows VHD ([#4331](https://github.com/Azure/aks-engine/issues/4331))
- hsn fix for 2c+ ([#4315](https://github.com/Azure/aks-engine/issues/4315))
- March 2021 patch updates for Windows ([#4322](https://github.com/Azure/aks-engine/issues/4322))
- update azurecni to 1.2.7 ([#4319](https://github.com/Azure/aks-engine/issues/4319))
- update windows provisioing scripts to v0.0.11 ([#4314](https://github.com/Azure/aks-engine/issues/4314))
- Updating Windows VHDs for v0.61.0 release ([#4317](https://github.com/Azure/aks-engine/issues/4317))
- update Go toolchain to v1.15.8 ([#4307](https://github.com/Azure/aks-engine/issues/4307))
- Add Feb security patch ([#4298](https://github.com/Azure/aks-engine/issues/4298))
- update logrus to 1.8.0 ([#4310](https://github.com/Azure/aks-engine/issues/4310))
- rev Linux VHDs to 2021.02.22 ([#4296](https://github.com/Azure/aks-engine/issues/4296))
- don't run unattended upgrade if using "no outbound" test feature ([#4297](https://github.com/Azure/aks-engine/issues/4297))
- update node-driver-registrar and liveness-probe images ([#4278](https://github.com/Azure/aks-engine/issues/4278))
- deprecate kube-dashboard addon ([#4268](https://github.com/Azure/aks-engine/issues/4268))
- deprecate aci-connector addon ([#4276](https://github.com/Azure/aks-engine/issues/4276))
- remove addon-resizer from VHD ([#4269](https://github.com/Azure/aks-engine/issues/4269))
- deprecate rescheduler addon ([#4275](https://github.com/Azure/aks-engine/issues/4275))
- keep two versions of Azure CNI in VHD ([#4266](https://github.com/Azure/aks-engine/issues/4266))
- update pause image to 1.4.1 ([#4273](https://github.com/Azure/aks-engine/issues/4273))
- update CNI plugins to v0.9.1 ([#4267](https://github.com/Azure/aks-engine/issues/4267))
- update kube-addon-manager to v9.1.3 ([#4271](https://github.com/Azure/aks-engine/issues/4271))
- support only latest, tested versions of Kubernetes ([#4265](https://github.com/Azure/aks-engine/issues/4265))
- update cluster-autoscaler to 1.20.0 ([#4264](https://github.com/Azure/aks-engine/issues/4264))
- ensure containerd has image cache on VHDs ([#4249](https://github.com/Azure/aks-engine/issues/4249))
- generated code ([#4261](https://github.com/Azure/aks-engine/issues/4261))
- don't include auditd rules in Linux VHDs ([#4253](https://github.com/Azure/aks-engine/issues/4253))
- add T4 GPU as Nvidia GPUs ([#4259](https://github.com/Azure/aks-engine/issues/4259))
- deprecate support for creating new 1.16 clusters ([#4256](https://github.com/Azure/aks-engine/issues/4256))
- don't include gcr-sourced images in Linux VHDs ([#4255](https://github.com/Azure/aks-engine/issues/4255))
- prune non-default images from VHD config ([#4250](https://github.com/Azure/aks-engine/issues/4250))
- fix func arity mismatch in validate_test.go ([#4251](https://github.com/Azure/aks-engine/issues/4251))
- upgrade NPM to v1.2.2_hotfix ([#4225](https://github.com/Azure/aks-engine/issues/4225))
- update windows dockeree version to 19.03.14 ([#4229](https://github.com/Azure/aks-engine/issues/4229))
- add new Azure VM SKUs, brazilsoutheast, westus3 regions ([#4224](https://github.com/Azure/aks-engine/issues/4224))
- block container traffic to 168.63.129.16 ([#4212](https://github.com/Azure/aks-engine/issues/4212))
- rev Linux VHDs to 2021.01.28 ([#4223](https://github.com/Azure/aks-engine/issues/4223))
- update aks-engine VHD Windows VHD ([#4218](https://github.com/Azure/aks-engine/issues/4218))
- update csi-secrets-store to v0.0.19 and akv provider to 0.0.12 ([#4203](https://github.com/Azure/aks-engine/issues/4203))
- update policy addon deployment ([#4201](https://github.com/Azure/aks-engine/issues/4201))
- update adal to v0.9.10 ([#4200](https://github.com/Azure/aks-engine/issues/4200))
- updating windows provisioing scripts to v0.0.10 ([#4184](https://github.com/Azure/aks-engine/issues/4184))
- Update Azure CNI to v1.2.2 ([#4183](https://github.com/Azure/aks-engine/issues/4183))
- Add windowsnodelabelsync.ps1 ([#4163](https://github.com/Azure/aks-engine/issues/4163))
- install Jan 2021 security updates in Windows VHD ([#4168](https://github.com/Azure/aks-engine/issues/4168))
- bump kms keyvault to v0.0.10 ([#4169](https://github.com/Azure/aks-engine/issues/4169))
- Use signed scripts package 0.0.9 on Windows nodes ([#4162](https://github.com/Azure/aks-engine/issues/4162))
- release Windows VHD for v0.59.0 aks-engine release ([#4158](https://github.com/Azure/aks-engine/issues/4158))
- rev Linux VHDs to 2021.01.08 ([#4159](https://github.com/Azure/aks-engine/issues/4159))
- simplify upgrade templates ([#4135](https://github.com/Azure/aks-engine/issues/4135))
- reinforce upgrade warnings/errors ([#4074](https://github.com/Azure/aks-engine/issues/4074))
- Use signed scripts v0.0.8 for Windows deployments ([#4134](https://github.com/Azure/aks-engine/issues/4134))
- simplify scale templates ([#4131](https://github.com/Azure/aks-engine/issues/4131))
- update Azure CNI to v1.2.0_hotfix ([#4129](https://github.com/Azure/aks-engine/issues/4129))
- update vendor deps ([#4125](https://github.com/Azure/aks-engine/issues/4125))
- rev metrics-server to v0.4.1 for all k8s versions ([#4127](https://github.com/Azure/aks-engine/issues/4127))
- Update moby/containerd versions ([#4119](https://github.com/Azure/aks-engine/issues/4119))
- update csi-secrets-store to v0.0.18 and akv provider to 0.0.11 ([#4126](https://github.com/Azure/aks-engine/issues/4126))
- updating azure-npm to 1.2.1 version ([#4094](https://github.com/Azure/aks-engine/issues/4094))
- Installing Dec 2020 cumulative updates for Windows VHDs ([#4103](https://github.com/Azure/aks-engine/issues/4103))
- update adal to v0.9.6 ([#4093](https://github.com/Azure/aks-engine/issues/4093))
- limit number of upgrade retries if new CP nodes bootstrap fails ([#4068](https://github.com/Azure/aks-engine/issues/4068))
- faster rolling updates for daemonset addons ([#4090](https://github.com/Azure/aks-engine/issues/4090))
- update csi-secrets-store addon manifest and images (v0.0.10) ([#4084](https://github.com/Azure/aks-engine/issues/4084))
- update Windows image ([#4086](https://github.com/Azure/aks-engine/issues/4086))
- rev Linux VHDs to 2020.12.02 ([#4081](https://github.com/Azure/aks-engine/issues/4081))
- k8s v1.18 conformance model for Azure Stack ([#4070](https://github.com/Azure/aks-engine/issues/4070))
- validate VHD availability before upgrade/scale on Azure Stack Hub ([#4062](https://github.com/Azure/aks-engine/issues/4062))
- mark Kubernetes 1.17.14 as disabled ([#4044](https://github.com/Azure/aks-engine/issues/4044))
- cleanup dead code ([#4053](https://github.com/Azure/aks-engine/issues/4053))
- only warn about master stuff during create ([#4057](https://github.com/Azure/aks-engine/issues/4057))
- Upgrade CNI to v1.2.0 ([#4058](https://github.com/Azure/aks-engine/issues/4058))
- Updating default csi-proxy version to v0.2.2 ([#4047](https://github.com/Azure/aks-engine/issues/4047))
- format some json in addpool.md ([#4049](https://github.com/Azure/aks-engine/issues/4049))
- remove deprecated AKS code paths ([#4040](https://github.com/Azure/aks-engine/issues/4040))
- deprecate orchestratorType ([#4038](https://github.com/Azure/aks-engine/issues/4038))
- remove deprecated localizations ([#4036](https://github.com/Azure/aks-engine/issues/4036))
- Use Windows November(11b) updates as default vhd ([#4033](https://github.com/Azure/aks-engine/issues/4033))
- Windows November Patches ([#4023](https://github.com/Azure/aks-engine/issues/4023))
- Add 10c image as default ([#4020](https://github.com/Azure/aks-engine/issues/4020))
- rev Linux VHDs to 2020.10.30 ([#4016](https://github.com/Azure/aks-engine/issues/4016))
- Install Windows Server 2019 10C updates in Windows VHD ([#3956](https://github.com/Azure/aks-engine/issues/3956))
- update powershell signed scripts ([#4012](https://github.com/Azure/aks-engine/issues/4012))
- Adding csi-proxy-v0.2.2 to Windows VHD ([#4004](https://github.com/Azure/aks-engine/issues/4004))
- update cluster-autoscalers to latest patches ([#4000](https://github.com/Azure/aks-engine/issues/4000))
- set go sdk log level for Azure Stack clusters ([#3993](https://github.com/Azure/aks-engine/issues/3993))
- update cluster-autoscaler to v1.19.1 ([#3996](https://github.com/Azure/aks-engine/issues/3996))
- update go toolchain to v1.15.3 ([#3879](https://github.com/Azure/aks-engine/issues/3879))
- use transparent mode for Azure CNI ([#3958](https://github.com/Azure/aks-engine/issues/3958))
- gofmt ([#3982](https://github.com/Azure/aks-engine/issues/3982))
- longer default cordonDrainTimeout for Azure Stack Cloud ([#3969](https://github.com/Azure/aks-engine/issues/3969))
- kubelet systemd job depends on CRI service ([#3943](https://github.com/Azure/aks-engine/issues/3943))
- Upgrade CNI to v1.1.8 ([#3907](https://github.com/Azure/aks-engine/issues/3907))
- remove support for Kubernetes 1.15 ([#3751](https://github.com/Azure/aks-engine/issues/3751))
- bump calico to 3.8.9 to get latest patches ([#3924](https://github.com/Azure/aks-engine/issues/3924))
- set the csi-secrets-store to have a priority class ([#3909](https://github.com/Azure/aks-engine/issues/3909))
- rev Linux VHDs to 2020.10.06 ([#3906](https://github.com/Azure/aks-engine/issues/3906))
- enable VHD re-use in no outbound scenarios ([#3897](https://github.com/Azure/aks-engine/issues/3897))
- update csi-secrets-store addon manifest and images (v0.0.9) ([#3891](https://github.com/Azure/aks-engine/issues/3891))
- create azure.json via CSE ([#3876](https://github.com/Azure/aks-engine/issues/3876))
- distribute apiserver.crt to control plane nodes only ([#3860](https://github.com/Azure/aks-engine/issues/3860))
- update azure cni to 1.1.7 ([#3864](https://github.com/Azure/aks-engine/issues/3864))
- update Dashboard addon to v2.0.4 ([#3855](https://github.com/Azure/aks-engine/issues/3855))
- check VHD media name length before being published to Marketplace ([#3799](https://github.com/Azure/aks-engine/issues/3799))
- remove no-op 1.15 version checks in templates ([#3851](https://github.com/Azure/aks-engine/issues/3851))
- updating Windows VHD with new cached artifacts ([#3843](https://github.com/Azure/aks-engine/issues/3843))
- adding 1.19.1 bits to Windows VHD ([#3834](https://github.com/Azure/aks-engine/issues/3834))
- rev Linux VHDs to 2020.09.14 ([#3827](https://github.com/Azure/aks-engine/issues/3827))
- update signed powershell script package to include azure CNI fixes ([#3829](https://github.com/Azure/aks-engine/issues/3829))

### Revert Change ‚óÄÔ∏è
- "chore: targeting sept updates for Windows 2019 VHD ([#3801](https://github.com/Azure/aks-engine/issues/3801))" ([#3836](https://github.com/Azure/aks-engine/issues/3836))

### Testing üíö
- only validate MTU if Eth0MTU is present ([#4434](https://github.com/Azure/aks-engine/issues/4434))
- use kured 1.7.0 to validate kamino ([#4427](https://github.com/Azure/aks-engine/issues/4427))
- cluster.sh fixes for rotate-certs ([#4382](https://github.com/Azure/aks-engine/issues/4382))
- make e2e singleCommandTimeout configurable ([#4372](https://github.com/Azure/aks-engine/issues/4372))
- add containerd no outbound test scenario ([#4371](https://github.com/Azure/aks-engine/issues/4371))
- validate no outbound for 1.20 and 1.21 ([#4370](https://github.com/Azure/aks-engine/issues/4370))
- more resilient node annotations E2E test ([#4361](https://github.com/Azure/aks-engine/issues/4361))
- fix calculation of prior k8s minor version in mocks and upgrade test ([#4359](https://github.com/Azure/aks-engine/issues/4359))
- enable convenient custom kube binary ([#4335](https://github.com/Azure/aks-engine/issues/4335))
- enable parallel E2E tests, update ginkgo to 1.5 ([#4290](https://github.com/Azure/aks-engine/issues/4290))
- use AZURE_CORE_ONLY_SHOW_ERRORS when running E2E ([#4288](https://github.com/Azure/aks-engine/issues/4288))
- expose custom image options as env vars ([#4244](https://github.com/Azure/aks-engine/issues/4244))
- don't test availability sets + 1.21 ([#4239](https://github.com/Azure/aks-engine/issues/4239))
- E2E resilience ([#4235](https://github.com/Azure/aks-engine/issues/4235))
- go routine errata ([#4233](https://github.com/Azure/aks-engine/issues/4233))
- tolerate long SIG image publication times for vmss-prototype test ([#4228](https://github.com/Azure/aks-engine/issues/4228))
- incorporate kured + auto mode into kamino vmss-prototype tests ([#4221](https://github.com/Azure/aks-engine/issues/4221))
- add timestamps to E2E pod logs output ([#4216](https://github.com/Azure/aks-engine/issues/4216))
- enable kamino vmss-prototype dry run tests ([#4215](https://github.com/Azure/aks-engine/issues/4215))
- increase timeout tolerance for vmss-prototype SIG publishing ([#4211](https://github.com/Azure/aks-engine/issues/4211))
- add more stdout to kamino vmss-prototype E2E tests ([#4210](https://github.com/Azure/aks-engine/issues/4210))
- print helm command for vmss-prototype test ([#4207](https://github.com/Azure/aks-engine/issues/4207))
- correct E2E message during vmss-prototype test ([#4205](https://github.com/Azure/aks-engine/issues/4205))
- kamino E2E errata ([#4204](https://github.com/Azure/aks-engine/issues/4204))
- remove dangling fmt.Println ([#4202](https://github.com/Azure/aks-engine/issues/4202))
- enable testing custom kamino vmss prototype images ([#4198](https://github.com/Azure/aks-engine/issues/4198))
- updated kamino vmss-prototype integration E2E ([#4153](https://github.com/Azure/aks-engine/issues/4153))
- ensure hostPort routing ([#4186](https://github.com/Azure/aks-engine/issues/4186))
- enable configurable node prototype tests ([#4100](https://github.com/Azure/aks-engine/issues/4100))
- enable GINKGO_SKIP_AFTER_UPGRADE param in e2e test ([#4089](https://github.com/Azure/aks-engine/issues/4089))
- more resilient azure-arc-onboarding E2E ([#4069](https://github.com/Azure/aks-engine/issues/4069))
- use 3 control plane VMs for base test config ([#4075](https://github.com/Azure/aks-engine/issues/4075))
- dns-liveness livenessProbe tweaks ([#4080](https://github.com/Azure/aks-engine/issues/4080))
- disable useManagedIdentity default value on Azure Stack ([#4063](https://github.com/Azure/aks-engine/issues/4063))
- skip rotate docker log tests if omsagent ([#4059](https://github.com/Azure/aks-engine/issues/4059))
- only test flannel + containerd thru k8s 1.19 ([#4041](https://github.com/Azure/aks-engine/issues/4041))
- re-engage cluster-autoscaler tests if no ssh ([#4034](https://github.com/Azure/aks-engine/issues/4034))
- add dns-loop (actually curl) stress test ([#4024](https://github.com/Azure/aks-engine/issues/4024))
- configurable stability iterations timeout ([#4022](https://github.com/Azure/aks-engine/issues/4022))
- fix two UTs to work with "cli" auth ([#3995](https://github.com/Azure/aks-engine/issues/3995))
- ensure azure-kms-provider E2E coverage ([#3985](https://github.com/Azure/aks-engine/issues/3985))
- "useManagedIdentity": false for VMSS masters ([#3981](https://github.com/Azure/aks-engine/issues/3981))
- Retry label when cluster first comes online ([#3976](https://github.com/Azure/aks-engine/issues/3976))
- Jenkinsfile bool vars ([#3980](https://github.com/Azure/aks-engine/issues/3980))
- Windows Metrics failure when High CPU  ([#3962](https://github.com/Azure/aks-engine/issues/3962))
- validate azure arc in everything config ([#3961](https://github.com/Azure/aks-engine/issues/3961))
- CCM + azurefile + MSI test scenarios ([#3932](https://github.com/Azure/aks-engine/issues/3932))
- skip tests for flatcar cluster config ([#3921](https://github.com/Azure/aks-engine/issues/3921))
- Add azure.json path for custom cloud k8s config & Update stability timeout for Azure CNI network policy ([#3895](https://github.com/Azure/aks-engine/issues/3895))
- E2E fix scale test indexing out of bounds ([#3873](https://github.com/Azure/aks-engine/issues/3873))
- not nil defense broke logic ([#3881](https://github.com/Azure/aks-engine/issues/3881))
- fixes for akse e2e tests ([#3874](https://github.com/Azure/aks-engine/issues/3874))
- E2E optionally validates rotate-certs ([#3866](https://github.com/Azure/aks-engine/issues/3866))
- add more E2E timeout tolerance ([#3850](https://github.com/Azure/aks-engine/issues/3850))

#### Please report any issues here: https://github.com/Azure/aks-engine/issues/new
[Unreleased]: https://github.com/Azure/aks-engine/compare/v0.65.1...HEAD
[v0.65.1]: https://github.com/Azure/aks-engine/compare/v0.56.4...v0.65.1
